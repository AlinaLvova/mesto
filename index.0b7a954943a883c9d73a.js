(()=>{"use strict";var e="#cards-list-template";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}var r=function(){function e(t,n,r,o){var i=o.handleCardClick,a=o.handleRemoveCard,u=o.handleLikeClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._likes=t.likes,this._id=t._id,this._owner=t.owner,this._idOwner=n,this._templateSelector=r,this._handleCardClick=i,this._handleLikeClick=u,this._handleRemoveCard=a,this._remove=this._remove.bind(this)}var t,r;return t=e,r=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".card").cloneNode(!0)}},{key:"_toggleLike",value:function(){this._likeButton.classList.toggle("card__like_active")}},{key:"_remove",value:function(){this._handleRemoveCard(this._id)}},{key:"delete",value:function(){this._element.remove(),this._element=null}},{key:"updateCounterLikes",value:function(e){this._element.querySelector(".card__like-counter").textContent=e>0?e:""}},{key:"_renderLikeIcon",value:function(){var e=this;this._likes.forEach((function(t){e._idOwner===t._id&&e._element.querySelector(".card__like").classList.add("card__like_active")}))}},{key:"_setEventListener",value:function(){var e=this;this._likeButton.addEventListener("click",(function(){e._toggleLike();var t=e._likeButton.classList.contains("card__like_active");e._handleLikeClick(t)})),this._cardImage.addEventListener("click",(function(){e._handleCardClick(e._name,e._link)}))}},{key:"getCard",value:function(){return this}},{key:"_renderTrashIcon",value:function(){var e=this;this._idOwner===this._owner._id&&(this._deleteButton=this._element.querySelector(".card__delete"),this._deleteButton.classList.add("card__delete_active"),this._deleteButton.addEventListener("click",(function(){e._handleRemoveCard(e._id)})))}},{key:"generate",value:function(){return this._element=this._getTemplate(),this._likeButton=this._element.querySelector(".card__like"),this._cardImage=this._element.querySelector(".card__image"),this._element.querySelector(".card__title").textContent=this._name,this._cardImage.src=this._link,this._cardImage.alt="Фото пользователя "+this._name,this.updateCounterLikes(this._likes.length),this._renderTrashIcon(),this._renderLikeIcon(),this._setEventListener(),this._element}}],r&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===o(i)?i:String(i)),r)}var i}var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formValidate=n,this._inputList=Array.from(this._formValidate.querySelectorAll(this._inputSelector)),this._submitButtonElement=this._formValidate.querySelector(this._submitButtonSelector)}var t,n;return t=e,(n=[{key:"resetValidation",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"_hideInputError",value:function(e){var t=this._formValidate.querySelector(".".concat(e.id,"-error"));t.classList.remove(this._errorClass),t.textContent="",e.classList.remove(this._inputErrorClass)}},{key:"_showInputError",value:function(e){var t=this._formValidate.querySelector(".".concat(e.id,"-error"));t.classList.add(this._errorClass),t.textContent=e.validationMessage,e.classList.add(this._inputErrorClass)}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput(this._inputList)?(this._submitButtonElement.classList.add(this._inactiveButtonClass),this._submitButtonElement.disabled=!0):(this._submitButtonElement.classList.remove(this._inactiveButtonClass),this._submitButtonElement.disabled=!1)}},{key:"_setEventListener",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t),t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListener()}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===u(o)?o:String(o)),r)}var o}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._element=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){document.addEventListener("keydown",this._handleEscClose),this._element.classList.add("popup_opened")}},{key:"close",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._element.classList.remove("popup_opened")}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._element.querySelector(".popup__close-btn").addEventListener("click",(function(){return e.close()})),this._element.addEventListener("mousedown",(function(t){t.target.classList.contains("popup")&&e.close()}))}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===s(o)?o:String(o)),r)}var o}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},p.apply(this,arguments)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(o){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var t,n=e.containerSelector,r=e.handleSubmitForm;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._handleSubmitForm=r,t._form=t._element.querySelector(".popup__form"),t._inputList=t._element.querySelectorAll(".popup__input-field"),t}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setInputValues",value:function(e){this._inputList.forEach((function(t){t.value=e[t.name]}))}},{key:"renderLoading",value:function(e){this._form.querySelector(".popup__submit-btn").textContent=e}},{key:"setEventListeners",value:function(){var e=this;p(h(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleSubmitForm(e._getInputValues()),e.close()}))}},{key:"close",value:function(){this._form.reset(),p(h(a.prototype),"close",this).call(this)}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===m(o)?o:String(o)),r)}var o}function b(){return b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},b.apply(this,arguments)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(r);if(o){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._image=t._element.querySelector(".popup__image"),t._figcaption=t._element.querySelector(".popup__figcaption"),t}return t=a,(n=[{key:"open",value:function(e,t){this._image.src=t,this._figcaption.textContent=e,this._image.alt="Пользовательское описание - ".concat(e,"."),b(g(a.prototype),"open",this).call(this)}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==k(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===k(o)?o:String(o)),r)}var o}var E=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._element=document.querySelector(n)}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._element.prepend(e)}},{key:"clear",value:function(){this._element.innerHTML=""}},{key:"renderItems",value:function(e){var t=this;this.clear(),e.forEach((function(e){t._renderer(e)}))}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==L(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===L(o)?o:String(o)),r)}var o}var j=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=document.querySelector(t),this._userAbout=document.querySelector(n),this._avatar=document.querySelector(r),this._avatar.alt="Аватар"}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._userName.textContent,about:this._userAbout.textContent,id:this._id}}},{key:"setUserInfo",value:function(e,t){this._userName.textContent=e,this._userAbout.textContent=t}},{key:"setAvatar",value:function(e){this._avatar.src=e}},{key:"setId",value:function(e){this._id=e}}])&&O(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===C(o)?o:String(o)),r)}var o}var I=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl=t.baseUrl,this.headers=t.headers}var t,n;return t=e,(n=[{key:"_handleResponse",value:function(e,t){return e.ok?e.json():Promise.reject(new Error("Ошибка: ".concat(res.status,". Сообщение об ошибке: ").concat(t)))}},{key:"sentCard",value:function(e){var t=this,n=e.name,r=e.link;return fetch("".concat(this.baseUrl,"/cards"),{headers:this.headers,method:"POST",body:JSON.stringify({name:n,link:r})}).then((function(e){return t._handleResponse(e,"Данные добавленной карты не были успешно получены сервером")}))}},{key:"updateUserInfo",value:function(e,t){var n=this;return fetch("".concat(this.baseUrl,"/users/me"),{headers:this.headers,method:"PATCH",body:JSON.stringify({name:e,about:t})}).then((function(e){return n._handleResponse(e,"Данные о пользователе не были успешно обновлены на сервере")}))}},{key:"updateAvatar",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/users/me/avatar"),{headers:this.headers,method:"PATCH",body:JSON.stringify({avatar:e})}).then((function(e){return t._handleResponse(e,"Фото аватара не было успешно обновлено на сервере")}))}},{key:"getUserInfo",value:function(){var e=this;return fetch("".concat(this.baseUrl,"/users/me"),{headers:this.headers,method:"GET"}).then((function(t){return e._handleResponse(t,"Данные о пользователе не были успешно получены")}))}},{key:"setLike",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/cards/").concat(e,"/likes"),{headers:this.headers,method:"PUT"}).then((function(e){return t._handleResponse(e,"Данные о добавлении лайка карточке от попользователе не были успешно обновлены на сервере")}))}},{key:"deleteLike",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/cards/").concat(e,"/likes"),{headers:this.headers,method:"DELETE"}).then((function(e){return t._handleResponse(e,"Данные об удалении лайка карточке от попользователе не были успешно обновлены на сервере")}))}},{key:"deleteCard",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/cards/").concat(e),{headers:this.headers,method:"DELETE"}).then((function(e){return t._handleResponse(e,"Данные о карточке попользователе не были успешно удалены на сервере")}))}},{key:"getCardList",value:function(){var e=this;return fetch("".concat(this.baseUrl,"/cards"),{headers:this.headers,method:"GET"}).then((function(t){return e._handleResponse(t,"Данные о списке карт не были успешно получены")}))}}])&&P(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==R(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===R(o)?o:String(o)),r)}var o}function q(){return q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},q.apply(this,arguments)}function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=A(r);if(o){var n=A(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._form=t._element.querySelector(".popup__form"),t._handleSubmit=void 0,t}return t=a,(n=[{key:"open",value:function(e){var t=e.handleSubmit;q(A(a.prototype),"open",this).call(this),this._handleSubmit=t}},{key:"close",value:function(){q(A(a.prototype),"close",this).call(this),this._handleSubmit=void 0}},{key:"setEventListeners",value:function(){var e=this;q(A(a.prototype),"setEventListeners",this).call(this),this.btn=document.querySelector(".popup__submit-btn"),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleSubmit()}))}}])&&T(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l);function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=new I({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-60",headers:{Authorization:"615ec7c0-c05d-4e3c-8fba-c9ef3b1c5572","Content-Type":"application/json"}}),D=document.querySelector(".profile__edit-button"),N=document.querySelector(".profile__add-button"),F=document.querySelector(".profile__avatar-button"),H=new S("#popup-open-img");H.setEventListeners();var J,M={};J={formSelector:".popup__form",inputSelector:".popup__input-field",submitButtonSelector:".popup__submit-btn",inactiveButtonClass:"popup__submit-btn_disabled",inputErrorClass:"popup__input-field_type_error",errorClass:"popup__input-field-error_visible"},Array.from(document.querySelectorAll(J.formSelector)).forEach((function(e){var t=new a(J,e),n=e.getAttribute("name");M[n]=t,t.enableValidation()}));var G=new U("#popup-confirmation");function z(e,t,n){var o=new r(e,t,n,{handleCardClick:function(e,t){H.open(e,t)},handleAddLikeClick:function(){x.setLike(e._id).then((function(e){o.toggleLike(),o.updateCounterLikes(e.likes.length)})).catch((function(e){console.log(e.message)}))},handleDeleteLikeClick:function(){x.deleteLike(e._id).then((function(e){o.toggleLike(),o.updateCounterLikes(e.likes.length)})).catch((function(e){console.log(e.message)}))},handleRemoveCard:function(e){G.open({handleSubmit:function(){x.deleteCard(e).then((function(){o.delete()})).catch((function(e){console.log(e.message)})).finally((function(){G.close()}))}})}});return o.generate()}G.setEventListeners();var $=new E({renderer:function(t){var n=z(t,e);$.addItem(n)}},".gallery__list");Promise.all([x.getUserInfo(),x.getCardList()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,n)||function(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];K.setUserInfo(o.name,o.about),K.setAvatar(o.avatar),K.setId(o._id),$.renderItems(i.reverse())})).catch((function(e){console.log(e.message)}));var K=new j(".profile__name",".profile__about",".profile__avatar");G.setEventListeners();var Q=new d({containerSelector:"#popup-edit-form",handleSubmitForm:function(e){Q.renderLoading("Обновление..."),x.updateUserInfo(e["user-name"],e["user-about"]).then((function(e){K.setUserInfo(e.name,e.about),Q.close()})).catch((function(e){console.log(e.message)})).finally((function(){Q.renderLoading("Сохранить")}))}});Q.setEventListeners(),D.addEventListener("click",(function(){var e=K.getUserInfo(),t=e.name,n=e.about;Q.setInputValues({"user-name":t,"user-about":n}),Q.open(),M["edit-form"].resetValidation()}));var W=new d({containerSelector:"#popup-update-avatar",handleSubmitForm:function(e){W.renderLoading("Обновление аватара..."),x.updateAvatar(e["input-link-on-avatar"]).then((function(e){K.setAvatar(e.avatar),W.close()})).catch((function(e){console.log(e.message)})).finally((function(){W.renderLoading("Сохранить")}))}});W.setEventListeners(),F.addEventListener("click",(function(){W.open(),M["update-avatar-form"].resetValidation()}));var X=new d({containerSelector:"#popup-add-form",handleSubmitForm:function(t){X.renderLoading("Сохранение..."),x.sentCard(t).then((function(t){$.addItem(z(t,e))})).then((function(){document.querySelector(".gallery__list").firstElementChild.querySelector(".card__image").addEventListener("load",(function(){X.close()}))})).catch((function(e){console.log(e.message)})).finally((function(){X.renderLoading("Создать")}))}});X.setEventListeners(),N.addEventListener("click",(function(){X.open(),M["add-form"].resetValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU1DLEVBQWtCLElBQUlwSCxFQUFjLENBQ3hDUCxrQkFBbUIsdUJBQ25CUSxpQkFBa0IsU0FBQzZHLEdBQ2pCTSxFQUFnQkwsY0FBYyx5QkFDOUJsRCxFQUNHd0QsYUFBYVAsRUFBUyx5QkFDdEJ6RCxNQUFLLFNBQUM0RCxHQUNMekssRUFBS2lLLFVBQVVRLEVBQVM5RSxRQUN4QmlGLEVBQWdCdEgsT0FDbEIsSUFDQ3dGLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsRUFBTUcsUUFDcEIsSUFDQ0ssU0FBUSxXQUNQcUIsRUFBZ0JMLGNBQWMsWUFDaEMsR0FDSixJQUdGSyxFQUFnQmpELG9CQUdoQkYsRUFBbUJ2SCxpQkFBaUIsU0FBUyxXQUMzQzBLLEVBQWdCbEMsT0FDaEJkLEVBQWUsc0JBQXNCK0MsaUJBQ3ZDLElBR0EsSUFBTUcsRUFBbUIsSUFBSXRILEVBQWMsQ0FDekNQLGtCQUFtQixrQkFDbkJRLGlCQUFrQixTQUFDNUYsR0FDakJpTixFQUFpQlAsY0FBYyxpQkFDL0JsRCxFQUNHMEQsU0FBU2xOLEdBQ1RnSixNQUFLLFNBQUN5QixHQUNMbUIsRUFBU0MsUUFBUXJCLEVBQVdDLEVBQVUzSyxHQUN4QyxJQUNDa0osTUFBSyxXQUVTekgsU0FBU0MsY0FBYyxrQkFFN0IyTCxrQkFBa0IzTCxjQUFjLGdCQUMzQmEsaUJBQWlCLFFBQVEsV0FDbkM0SyxFQUFpQnhILE9BQ25CLEdBQ0YsSUFDQ3dGLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsRUFBTUcsUUFDcEIsSUFDQ0ssU0FBUSxXQUNQdUIsRUFBaUJQLGNBQWMsVUFDakMsR0FDSixJQUlGTyxFQUFpQm5ELG9CQUdqQkgsRUFBVXRILGlCQUFpQixTQUFTLFdBQ2xDNEssRUFBaUJwQyxPQUNqQmQsRUFBZSxZQUFZK0MsaUJBQzdCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBDb25maXJtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAge1xyXG4gICAgbmFtZTogXCLQkNGA0YXRi9C3XCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9hcmtoeXouanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcItCn0LXQu9GP0LHQuNC90YHQutCw0Y8g0L7QsdC70LDRgdGC0YxcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2NoZWx5YWJpbnNrLW9ibGFzdC5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwi0JjQstCw0L3QvtCy0L5cIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2l2YW5vdm8uanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcItCa0LDQvNGH0LDRgtC60LBcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2thbWNoYXRrYS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwi0KXQvtC70LzQvtCz0L7RgNGB0LrQuNC5INGA0LDQudC+0L1cIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2tob2xtb2dvcnNreS1yYXlvbi5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwi0JHQsNC50LrQsNC7XCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9iYWlrYWwuanBnXCIsXHJcbiAgfSxcclxuXTtcclxuXHJcbmV4cG9ydCBjb25zdCB0ZW1wbGF0ZVNlbGVjdG9yQ2FyZCA9IFwiI2NhcmRzLWxpc3QtdGVtcGxhdGVcIjtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBkYXRhLFxyXG4gICAgaWRPd25lcixcclxuICAgIHRlbXBsYXRlU2VsZWN0b3IsXHJcbiAgICB7IGhhbmRsZUNhcmRDbGljaywgaGFuZGxlUmVtb3ZlQ2FyZCwgaGFuZGxlTGlrZUNsaWNrIH1cclxuICApIHtcclxuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xyXG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcclxuICAgIHRoaXMuX293bmVyID0gZGF0YS5vd25lcjtcclxuICAgIHRoaXMuX2lkT3duZXIgPSBpZE93bmVyO1xyXG4gICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XHJcbiAgICAvL9GE0YPQvdC60YbQuNGPINC+0YLQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwINGBINC60LDRgNGC0LjQvdC60L7QuSDQv9C+INC60LvQuNC60YMg0L3QsCDQutCw0YDRgtC+0YfQutGDXHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sgPSBoYW5kbGVMaWtlQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVSZW1vdmVDYXJkID0gaGFuZGxlUmVtb3ZlQ2FyZDtcclxuICAgIHRoaXMuX3JlbW92ZSA9IHRoaXMuX3JlbW92ZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICAvL9GE0YPQvdC60YbQuNGPINC+0LHRgNCw0LHQvtGC0YfQuNC60LAg0L3QsNC20LDRgtC40Y8g0L3QsCDQu9Cw0LnQuiDQutCw0YDRgtC+0YfQutC4XHJcbiAgX3RvZ2dsZUxpa2UoKSB7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlX2FjdGl2ZVwiKTtcclxuICB9XHJcblxyXG4gIF9yZW1vdmUoKSB7XHJcbiAgICB0aGlzLl9oYW5kbGVSZW1vdmVDYXJkKHRoaXMuX2lkKTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZSgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcclxuICB9XHJcblxyXG4gIC8v0L7QsdC90L7QstC40YLRjCDQutC+0LvQuNGH0LXRgdGC0LLQviDQu9Cw0LnQutC+0LJcclxuICB1cGRhdGVDb3VudGVyTGlrZXMoY291bnRlcikge1xyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtY291bnRlclwiKS50ZXh0Q29udGVudCA9XHJcbiAgICAgIGNvdW50ZXIgPiAwID8gY291bnRlciA6IFwiXCI7XHJcbiAgfVxyXG5cclxuICAvL9C+0YLRgNC40YHQvtCy0LrQsCDQu9Cw0LnQutC+0LIg0YMg0YLQtdGFINC60LDRgNGC0L7Rh9C10LosINC60L7RgtC+0YDRi9C1INC/0L7QvdGA0LDQstC40LvQuNGB0Ywg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GOXHJcbiAgX3JlbmRlckxpa2VJY29uKCkge1xyXG4gICAgdGhpcy5fbGlrZXMuZm9yRWFjaCgodXNlcikgPT4ge1xyXG4gICAgICBpZiAodGhpcy5faWRPd25lciA9PT0gdXNlci5faWQpIHtcclxuICAgICAgICB0aGlzLl9lbGVtZW50XHJcbiAgICAgICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlXCIpXHJcbiAgICAgICAgICAuY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2VfYWN0aXZlXCIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVyKCkge1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl90b2dnbGVMaWtlKCk7XHJcbiAgICAgIGNvbnN0IGlzQWN0aXZlTGlrZSA9XHJcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoXCJjYXJkX19saWtlX2FjdGl2ZVwiKTtcclxuICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrKGlzQWN0aXZlTGlrZSk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5fbmFtZSwgdGhpcy5fbGluayk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldENhcmQoKSB7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8v0L7RgtGA0LjRgdC+0LLQsNGC0Ywg0LjQutC+0L3QutGDIFwi0YPQtNCw0LvQuNGC0YxcIiDRgtC+0LvRjNC60L4g0YMg0LrQsNGA0YLQvtGH0LXQuiDQstC70LDQtNC10LvRjNGG0LBcclxuICBfcmVuZGVyVHJhc2hJY29uKCkge1xyXG4gICAgaWYgKHRoaXMuX2lkT3duZXIgPT09IHRoaXMuX293bmVyLl9pZCkge1xyXG4gICAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlXCIpO1xyXG4gICAgICB0aGlzLl9kZWxldGVCdXR0b24uY2xhc3NMaXN0LmFkZChcImNhcmRfX2RlbGV0ZV9hY3RpdmVcIik7XHJcbiAgICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZVJlbW92ZUNhcmQodGhpcy5faWQpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdlbmVyYXRlKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2VcIik7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcblxyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuXHJcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSBcItCk0L7RgtC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyBcIiArIHRoaXMuX25hbWU7XHJcblxyXG4gICAgdGhpcy51cGRhdGVDb3VudGVyTGlrZXModGhpcy5fbGlrZXMubGVuZ3RoKTtcclxuICAgIHRoaXMuX3JlbmRlclRyYXNoSWNvbigpO1xyXG4gICAgdGhpcy5fcmVuZGVyTGlrZUljb24oKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXIoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtVmFsaWRhdGUpIHtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBjb25maWcuZXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Zvcm1WYWxpZGF0ZSA9IGZvcm1WYWxpZGF0ZTtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2Zvcm1WYWxpZGF0ZS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXHJcbiAgICApO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1WYWxpZGF0ZS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcblxyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvL9GB0LrRgNGL0YLRjCDRgdC+0L7QsdGJ0LXQvdC40LUg0L7QsSDQvtGI0LjQsdC60LVcclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtVmFsaWRhdGUucXVlcnlTZWxlY3RvcihcclxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG5cclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICAvL9C/0L7QutCw0LfQsNGC0Ywg0YHQvtC+0LHRidC10L3QuNC1INC+0LEg0L7RiNC40LHQutC1XHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybVZhbGlkYXRlLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuXHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICAvLyDQv9GA0L7QstC10YDQutCwINGDINC40L3Qv9GD0YLQvtCyINC90LAg0YHQstC+0LnRgdGC0LLQviB2YWxpZGl0eVxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBpZiAoaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy/Qv9GA0L7QstC10YDQutCwINC90LAg0LLQsNC70LjQtNC90L7RgdGC0Ywg0LLRgdC10YUg0L/QvtC70LXQuSDQsiDRhNC+0YDQvNC1XHJcbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKTtcclxuICB9XHJcblxyXG4gIC8v0L/QtdGA0LXQutC70Y7Rh9C40YLRjCDRgdC+0YHRgtC+0Y/QvdC40LUg0LrQvdC+0L/QutC4INC90LAg0LDQutGC0LjQstC90L7QtS/QvdC10LDQutGC0LjQstC90L7QtVxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQodGhpcy5faW5wdXRMaXN0KSkge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvL9C+0LHRgNCw0LHQvtGC0YfQuNC6INGB0L7QsdGL0YLQuNGPINC40L3Qv9GD0YIg0LTQu9GPINCy0YHQtdGFINGE0L7RgNC8XHJcbiAgX3NldEV2ZW50TGlzdGVuZXIoKSB7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG5cclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVyKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2UtYnRuXCIpO1xyXG4gICAgLy8g0YPRgdGC0LDQvdCw0LLQu9C40LLQsNC10Lwg0L7QsdGA0LDQsdC+0YLRh9C40Log0LfQsNC60YDRi9GC0LjRjyDQvdCwINC60YDQtdGB0YLQuNC6XHJcbiAgICBjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5jbG9zZSgpKTtcclxuXHJcbiAgICAvL9C00L7QsdCw0LLQuNGC0Ywg0L7QsdGA0LDQsdC+0YLRh9C40Log0LTQu9GPINC30LDQutGA0YvRgtC40Y8g0L/QviBvdmVybGF5XHJcbiAgICB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xyXG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cFwiKSkge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcih7IGNvbnRhaW5lclNlbGVjdG9yLCBoYW5kbGVTdWJtaXRGb3JtIH0pIHtcclxuICAgIHN1cGVyKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdEZvcm0gPSBoYW5kbGVTdWJtaXRGb3JtO1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcclxuICAgIC8vINGB0L/QuNGB0L7QuiDQstGB0LXRhSDRjdC70LXQvNC10L3RgtC+0LIg0L/QvtC70LXQuVxyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dC1maWVsZFwiKTtcclxuICB9XHJcblxyXG4gIC8v0YHQvtCx0YDQsNGC0Ywg0LTQsNC90L3Ri9C1INCy0YHQtdGFINC/0L7Qu9C10Lkg0YTQvtGA0LzRi1xyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIC8vINGB0L7Qt9C00LDRkdC8INC/0YPRgdGC0L7QuSDQvtCx0YrQtdC60YJcclxuICAgIHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTtcclxuXHJcbiAgICAvLyDQtNC+0LHQsNCy0LvRj9C10Lwg0LIg0Y3RgtC+0YIg0L7QsdGK0LXQutGCINC30L3QsNGH0LXQvdC40Y8g0LLRgdC10YUg0L/QvtC70LXQuVxyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vINCy0L7Qt9Cy0YDQsNGJ0LDQtdC8INC+0LHRitC10LrRgiDQt9C90LDRh9C10L3QuNC5XHJcbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcclxuICB9XHJcblxyXG4gIC8v0LfQsNC/0L7Qu9C90LjRgtGMINC/0L7Qu9GPINGE0L7RgNC80Ysg0LTQsNC90L3Ri9C80LhcclxuICBzZXRJbnB1dFZhbHVlcyhkYXRhKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgaW5wdXQudmFsdWUgPSBkYXRhW2lucHV0Lm5hbWVdO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJMb2FkaW5nKHRleHQpIHtcclxuICAgIHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fc3VibWl0LWJ0blwiKS50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdEZvcm0odGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl9maWdjYXB0aW9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19maWdjYXB0aW9uXCIpO1xyXG4gIH1cclxuXHJcbiAgb3Blbih0aXRsZUltYWdlLCBsaW5rSW1hZ2UpIHtcclxuICAgIHRoaXMuX2ltYWdlLnNyYyA9IGxpbmtJbWFnZTtcclxuICAgIHRoaXMuX2ZpZ2NhcHRpb24udGV4dENvbnRlbnQgPSB0aXRsZUltYWdlO1xyXG4gICAgdGhpcy5faW1hZ2UuYWx0ID0gYNCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjNGB0LrQvtC1INC+0L/QuNGB0LDQvdC40LUgLSAke3RpdGxlSW1hZ2V9LmA7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGl0ZW0pIHtcclxuICAgIHRoaXMuX2VsZW1lbnQucHJlcGVuZChpdGVtKTtcclxuICB9XHJcblxyXG4gIGNsZWFyKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoaXRlbUxpc3QpIHtcclxuICAgIHRoaXMuY2xlYXIoKTtcclxuXHJcbiAgICBpdGVtTGlzdC5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih1c2VyTmFtZVNlbGVjdG9yLCB1c2VyQWJvdXRTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3VzZXJOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyTmFtZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3VzZXJBYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckFib3V0U2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9hdmF0YXIuYWx0ID0gXCLQkNCy0LDRgtCw0YBcIjtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbmFtZTogdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIGFib3V0OiB0aGlzLl91c2VyQWJvdXQudGV4dENvbnRlbnQsXHJcbiAgICAgIGlkOiB0aGlzLl9pZCxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyh1c2VyTmFtZSwgdXNlckFib3V0KSB7XHJcbiAgICB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCA9IHVzZXJOYW1lO1xyXG4gICAgdGhpcy5fdXNlckFib3V0LnRleHRDb250ZW50ID0gdXNlckFib3V0O1xyXG4gIH1cclxuXHJcbiAgc2V0QXZhdGFyKGF2YXRhcikge1xyXG4gICAgdGhpcy5fYXZhdGFyLnNyYyA9IGF2YXRhcjtcclxuICB9XHJcblxyXG4gIHNldElkKGlkKSB7XHJcbiAgICB0aGlzLl9pZCA9IGlkO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xyXG4gICAgdGhpcy5iYXNlVXJsID0gY29uZmlnLmJhc2VVcmw7XHJcbiAgICB0aGlzLmhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcclxuICB9XHJcblxyXG4gIC8vINGE0YPQvdC60YbQuNGPINC+0LHRgNCw0LHQvtGC0LrQuCDRgNC10LfRg9C70YzRgtCw0YLQsCDQvtGC0LLQtdGC0LAg0YHQtdGA0LLQtdGA0LBcclxuICBfaGFuZGxlUmVzcG9uc2UocmVzcG9uc2UsIGVycm9yTWVzc2FnZSkge1xyXG4gICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXHJcbiAgICAgIG5ldyBFcnJvcihg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9LiDQodC+0L7QsdGJ0LXQvdC40LUg0L7QsSDQvtGI0LjQsdC60LU6ICR7ZXJyb3JNZXNzYWdlfWApXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgc2VudENhcmQoeyBuYW1lLCBsaW5rIH0pIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIGxpbms6IGxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVJlc3BvbnNlKFxyXG4gICAgICAgIHJlc3BvbnNlLFxyXG4gICAgICAgIFwi0JTQsNC90L3Ri9C1INC00L7QsdCw0LLQu9C10L3QvdC+0Lkg0LrQsNGA0YLRiyDQvdC1INCx0YvQu9C4INGD0YHQv9C10YjQvdC+INC/0L7Qu9GD0YfQtdC90Ysg0YHQtdGA0LLQtdGA0L7QvFwiXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8v0L7QsdC90L7QstC70LXQvdC40LUg0LTQsNC90L3Ri9GFINC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtSDQvdCwINGB0LXRgNCy0LXRgNC1XHJcbiAgdXBkYXRlVXNlckluZm8obmFtZSwgYWJvdXQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBhYm91dDogYWJvdXQsXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVJlc3BvbnNlKFxyXG4gICAgICAgIHJlc3BvbnNlLFxyXG4gICAgICAgIFwi0JTQsNC90L3Ri9C1INC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtSDQvdC1INCx0YvQu9C4INGD0YHQv9C10YjQvdC+INC+0LHQvdC+0LLQu9C10L3RiyDQvdCwINGB0LXRgNCy0LXRgNC1XCJcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy/QvtCx0L3QvtCy0LjRgtGMINCw0LLQsNGC0LDRgFxyXG4gIHVwZGF0ZUF2YXRhcihhdmF0YXIpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcjogYXZhdGFyLFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVSZXNwb25zZShcclxuICAgICAgICByZXNwb25zZSxcclxuICAgICAgICBcItCk0L7RgtC+INCw0LLQsNGC0LDRgNCwINC90LUg0LHRi9C70L4g0YPRgdC/0LXRiNC90L4g0L7QsdC90L7QstC70LXQvdC+INC90LAg0YHQtdGA0LLQtdGA0LVcIlxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvL9C/0L7Qu9GD0YfQuNGC0Ywg0LjQvdGE0L7RgNC80LDRhtC40Y4g0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1XHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5faGFuZGxlUmVzcG9uc2UoXHJcbiAgICAgICAgcmVzcG9uc2UsXHJcbiAgICAgICAgXCLQlNCw0L3QvdGL0LUg0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1INC90LUg0LHRi9C70Lgg0YPRgdC/0LXRiNC90L4g0L/QvtC70YPRh9C10L3Ri1wiXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8v0L/QvtGB0YLQsNCy0LjRgtGMINC70LDQudC6INC60LDRgNGC0L7Rh9C60LVcclxuICBzZXRMaWtlKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVSZXNwb25zZShcclxuICAgICAgICByZXNwb25zZSxcclxuICAgICAgICBcItCU0LDQvdC90YvQtSDQviDQtNC+0LHQsNCy0LvQtdC90LjQuCDQu9Cw0LnQutCwINC60LDRgNGC0L7Rh9C60LUg0L7RgiDQv9C+0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1INC90LUg0LHRi9C70Lgg0YPRgdC/0LXRiNC90L4g0L7QsdC90L7QstC70LXQvdGLINC90LAg0YHQtdGA0LLQtdGA0LVcIlxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvL9GD0LHRgNCw0YLRjCDQu9Cw0LnQuiDRgSDQutCw0YDRgtC+0YfQutC4XHJcbiAgZGVsZXRlTGlrZShjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5faGFuZGxlUmVzcG9uc2UoXHJcbiAgICAgICAgcmVzcG9uc2UsXHJcbiAgICAgICAgXCLQlNCw0L3QvdGL0LUg0L7QsSDRg9C00LDQu9C10L3QuNC4INC70LDQudC60LAg0LrQsNGA0YLQvtGH0LrQtSDQvtGCINC/0L7Qv9C+0LvRjNC30L7QstCw0YLQtdC70LUg0L3QtSDQsdGL0LvQuCDRg9GB0L/QtdGI0L3QviDQvtCx0L3QvtCy0LvQtdC90Ysg0L3QsCDRgdC10YDQstC10YDQtVwiXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8v0YPQtNCw0LvQuNGC0Ywg0LrQsNGA0YLQvtGH0LrRgyDQv9C+IGlkXHJcbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5faGFuZGxlUmVzcG9uc2UoXHJcbiAgICAgICAgcmVzcG9uc2UsXHJcbiAgICAgICAgXCLQlNCw0L3QvdGL0LUg0L4g0LrQsNGA0YLQvtGH0LrQtSDQv9C+0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1INC90LUg0LHRi9C70Lgg0YPRgdC/0LXRiNC90L4g0YPQtNCw0LvQtdC90Ysg0L3QsCDRgdC10YDQstC10YDQtVwiXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8v0L/QvtC70YPRh9C40YLRjCDRgdC/0LjRgdC+0Log0LrQsNGA0YLQvtGH0LXQulxyXG4gIGdldENhcmRMaXN0KCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVJlc3BvbnNlKFxyXG4gICAgICAgIHJlc3BvbnNlLFxyXG4gICAgICAgIFwi0JTQsNC90L3Ri9C1INC+INGB0L/QuNGB0LrQtSDQutCw0YDRgiDQvdC1INCx0YvQu9C4INGD0YHQv9C10YjQvdC+INC/0L7Qu9GD0YfQtdC90YtcIlxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgcG9wdXBDb25maXJtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0ID0gdW5kZWZpbmVkO1xyXG4gIH1cclxuXHJcbiAgb3Blbih7IGhhbmRsZVN1Ym1pdCB9KSB7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXQgPSBoYW5kbGVTdWJtaXQ7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXQgPSB1bmRlZmluZWQ7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLmJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3N1Ym1pdC1idG5cIik7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IHRlbXBsYXRlU2VsZWN0b3JDYXJkIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IFBvcHVwQ29uZmlybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cENvbmZpcm0uanNcIjtcclxuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuXHJcbmNvbnN0IGFwaUNvbmZpZyA9IHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNjBcIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBBdXRob3JpemF0aW9uOiBcIjYxNWVjN2MwLWMwNWQtNGUzYy04ZmJhLWM5ZWYzYjFjNTU3MlwiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufTtcclxuXHJcbi8vYXBpXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoYXBpQ29uZmlnKTtcclxuXHJcbmNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xyXG5jb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XHJcbmNvbnN0IHVwZGF0ZUF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyLWJ1dHRvblwiKTtcclxuXHJcbi8v0L/QvtC/0LDQvyDRgSDRg9Cy0LXQu9C40YfQtdC90L3QvtC5INC60LDRgNGC0LjQvdC60L7QuVxyXG5jb25zdCBjYXJkSW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNwb3B1cC1vcGVuLWltZ1wiKTtcclxuXHJcbi8v0YPRgdGC0LDQvdC+0LLQuNGC0Ywg0L7QsdGA0LDQsdC+0YLRh9C40LrQuCDRgdC+0LHRi9GC0LjQuSDQvdCwINC/0L7Qv9Cw0L8g0YEg0LrQsNGA0YLQuNC90LrQvtC5XHJcbmNhcmRJbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4vL2NvbmZpZyDQtNC70Y8g0LLQsNC70LjQtNCw0YbQuNC4INGE0L7RgNC8XHJcbmNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dC1maWVsZFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fc3VibWl0LWJ0blwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX3N1Ym1pdC1idG5fZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0LWZpZWxkX3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dC1maWVsZC1lcnJvcl92aXNpYmxlXCIsXHJcbn07XHJcblxyXG4vL9C80LDRgdGB0LjQsiDRhNC+0YDQvCDQstCw0LvQuNC00LDRhtC40LhcclxuY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fTtcclxuXHJcbi8vINCS0LrQu9GO0YfQtdC90LjQtSDQstCw0LvQuNC00LDRhtC40LhcclxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChjb25maWcpID0+IHtcclxuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKSk7XHJcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpO1xyXG4gICAgLy8g0L/QvtC70YPRh9Cw0LXQvCDQtNCw0L3QvdGL0LUg0LjQtyDQsNGC0YDQuNCx0YPRgtCwIGBuYW1lYCDRgyDRhNC+0YDQvNGLXHJcbiAgICBjb25zdCBmb3JtTmFtZSA9IGZvcm1FbGVtZW50LmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XHJcblxyXG4gICAgLy/QsiDQvtCx0YrQtdC60YIg0LfQsNC/0LjRgdGL0LLQsNC10Lwg0L/QvtC0INC40LzQtdC90LXQvCDRhNC+0YDQvNGLXHJcbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSB2YWxpZGF0b3I7XHJcbiAgICB2YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuZW5hYmxlVmFsaWRhdGlvbih2YWxpZGF0aW9uQ29uZmlnKTtcclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbi8v0L/QvtC/0LDQvyBcItC/0L7QtNGC0LLQtdGA0LTQuNGC0Ywg0YPQtNCw0LvQtdC90LjQtVwiXHJcbmNvbnN0IHBvcHVwQ29uZmlybURlbGV0ZSA9IG5ldyBQb3B1cENvbmZpcm0oXCIjcG9wdXAtY29uZmlybWF0aW9uXCIpO1xyXG5wb3B1cENvbmZpcm1EZWxldGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy/Rj9Cy0LvRj9C10YLRgdGPINC70Lgg0LLQu9Cw0LTQtdC70YzRhtC10Lw/IGlzIG93bmVyP1xyXG5jb25zdCBpc093bmVyID0gKGlkQ2FyZCkgPT4ge1xyXG4gIHJldHVybiBpZENhcmQub3duZXIuX2lkID09PSB1c2VyLmdldFVzZXJJbmZvKCkuaWQgPyB0cnVlIDogZmFsc2U7XHJcbn07XHJcblxyXG4vL9GB0L7Qt9C00LDQvdC40LUg0LrQsNGA0YLQvtGH0LrQuC4gX3RlbXBsYXRlU2VsZWN0b3JDYXJkINC90LXQvtCx0YXQvtC00LjQvCDQtNC70Y8g0LLRi9Cx0L7RgNCwINGC0LjQv9CwINC/0L7QutCw0LfQsCDQutCw0YDRgtC+0YfQutC4KNCz0L7RgNC40LfQvtC90YLQsNC70YzQvdC+0LPQviDQuNC70Lgg0L/QviDRg9C80L7Qu9GH0LDQvdC40Y4pXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoZGF0YUNhcmQsIF9pc093bmVyLCBfdGVtcGxhdGVTZWxlY3RvckNhcmQpIHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXHJcbiAgICBkYXRhQ2FyZCxcclxuICAgIF9pc093bmVyLFxyXG4gICAgX3RlbXBsYXRlU2VsZWN0b3JDYXJkLFxyXG4gICAge1xyXG4gICAgICBoYW5kbGVDYXJkQ2xpY2s6ICh0aXRsZUltYWdlLCBsaW5rSW1hZ2UpID0+IHtcclxuICAgICAgICBjYXJkSW1hZ2VQb3B1cC5vcGVuKHRpdGxlSW1hZ2UsIGxpbmtJbWFnZSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGhhbmRsZUFkZExpa2VDbGljazogKCkgPT4ge1xyXG4gICAgICAgIGFwaVxyXG4gICAgICAgICAgLnNldExpa2UoZGF0YUNhcmQuX2lkKVxyXG4gICAgICAgICAgLnRoZW4oKGRhdGFDYXJkKSA9PiB7XHJcbiAgICAgICAgICAgIGNhcmQudG9nZ2xlTGlrZSgpO1xyXG4gICAgICAgICAgICBjYXJkLnVwZGF0ZUNvdW50ZXJMaWtlcyhkYXRhQ2FyZC5saWtlcy5sZW5ndGgpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfSxcclxuICAgICAgaGFuZGxlRGVsZXRlTGlrZUNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgYXBpXHJcbiAgICAgICAgICAuZGVsZXRlTGlrZShkYXRhQ2FyZC5faWQpXHJcbiAgICAgICAgICAudGhlbigoZGF0YUNhcmQpID0+IHtcclxuICAgICAgICAgICAgY2FyZC50b2dnbGVMaWtlKCk7XHJcbiAgICAgICAgICAgIGNhcmQudXBkYXRlQ291bnRlckxpa2VzKGRhdGFDYXJkLmxpa2VzLmxlbmd0aCk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG4gICAgICBoYW5kbGVSZW1vdmVDYXJkOiAoZGF0YUNhcmQpID0+IHtcclxuICAgICAgICBwb3B1cENvbmZpcm1EZWxldGUub3Blbih7XHJcbiAgICAgICAgICBoYW5kbGVTdWJtaXQ6ICgpID0+IHtcclxuICAgICAgICAgICAgYXBpXHJcbiAgICAgICAgICAgICAgLmRlbGV0ZUNhcmQoZGF0YUNhcmQpXHJcbiAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2FyZC5kZWxldGUoKTtcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcG9wdXBDb25maXJtRGVsZXRlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG4gICAgfVxyXG4gICk7XHJcbiAgcmV0dXJuIGNhcmQuZ2VuZXJhdGUoKTtcclxufVxyXG5cclxuLy/RgdC+0LfQtNCw0L3QuNC1INGB0L/QuNGB0LrQsCDQutCw0YDRgtC+0YfQtdC6INC00LvRjyDQvtGC0L7QsdGA0LDQttC10L3QuNGPXHJcbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXHJcbiAge1xyXG4gICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XHJcbiAgICAgIC8v0YHQvtC30LTQsNC90LjQtSDQutCw0YDRgtC+0YfQutC4XHJcbiAgICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKGl0ZW0sIHRlbXBsYXRlU2VsZWN0b3JDYXJkKTtcclxuICAgICAgLy/QtNC+0LHQsNCy0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4XHJcbiAgICAgIGNhcmRMaXN0LmFkZEl0ZW0oY2FyZCk7XHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgXCIuZ2FsbGVyeV9fbGlzdFwiXHJcbik7XHJcblxyXG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXJJbmZvKCksIGFwaS5nZXRDYXJkTGlzdCgpXSlcclxuICAudGhlbigoW2luZm9EYXRhLCBjYXJkTGlzdERhdGFdKSA9PiB7XHJcbiAgICB1c2VyLnNldFVzZXJJbmZvKGluZm9EYXRhLm5hbWUsIGluZm9EYXRhLmFib3V0KTtcclxuICAgIHVzZXIuc2V0QXZhdGFyKGluZm9EYXRhLmF2YXRhcik7XHJcbiAgICB1c2VyLnNldElkKGluZm9EYXRhLl9pZCk7XHJcbiAgICBjYXJkTGlzdC5yZW5kZXJJdGVtcyhjYXJkTGlzdERhdGEucmV2ZXJzZSgpKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpO1xyXG4gIH0pO1xyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vL9C/0L7Qv9Cw0L/Ri1xyXG5cclxuLy/RgdC+0LfQtNCw0L3QuNC1INC+0LHRitC10LrRgtCwINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjFxyXG5jb25zdCB1c2VyID0gbmV3IFVzZXJJbmZvKFxyXG4gIFwiLnByb2ZpbGVfX25hbWVcIixcclxuICBcIi5wcm9maWxlX19hYm91dFwiLFxyXG4gIFwiLnByb2ZpbGVfX2F2YXRhclwiXHJcbik7XHJcblxyXG5wb3B1cENvbmZpcm1EZWxldGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8v0YHQvtC30LTQsNC90LjQtSDQvtCx0YrQtdC60YLQsCDRhNC+0YDQvNGLINC00LvRjyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC00LDQvdC90YvRhSDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LVcclxuY29uc3QgcG9wdXBQcm9maWxlRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBjb250YWluZXJTZWxlY3RvcjogXCIjcG9wdXAtZWRpdC1mb3JtXCIsXHJcbiAgaGFuZGxlU3VibWl0Rm9ybTogKGZvcm1EYXRhKSA9PiB7XHJcbiAgICBwb3B1cFByb2ZpbGVGb3JtLnJlbmRlckxvYWRpbmcoXCLQntCx0L3QvtCy0LvQtdC90LjQtS4uLlwiKTtcclxuICAgIGFwaVxyXG4gICAgICAudXBkYXRlVXNlckluZm8oZm9ybURhdGFbXCJ1c2VyLW5hbWVcIl0sIGZvcm1EYXRhW1widXNlci1hYm91dFwiXSlcclxuICAgICAgLnRoZW4oKHVzZXJEYXRhKSA9PiB7XHJcbiAgICAgICAgdXNlci5zZXRVc2VySW5mbyh1c2VyRGF0YS5uYW1lLCB1c2VyRGF0YS5hYm91dCk7XHJcbiAgICAgICAgcG9wdXBQcm9maWxlRm9ybS5jbG9zZSgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICBwb3B1cFByb2ZpbGVGb3JtLnJlbmRlckxvYWRpbmcoXCLQodC+0YXRgNCw0L3QuNGC0YxcIik7XHJcbiAgICAgIH0pO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxuLy/QvtCx0YDQsNCx0L7RgtC40YfQuNC6INGB0L7QsdGL0YLQuNC5INC00LvRjyDRhNC+0YDQvNGLXHJcbnBvcHVwUHJvZmlsZUZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8v0L7QsdGA0LDQsdC+0YLRh9C40Log0YHQvtCx0YvRgtC40Y8g0L3QsNC20LDRgtC40LUg0L3QsCDQutC90L7Qv9C60YMg0YDQtdC00LDQutGC0LjRgNC+0LLQsNGC0Ywg0LTQsNC90L3Ri9C1XHJcbmVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBjb25zdCB7IG5hbWUsIGFib3V0IH0gPSB1c2VyLmdldFVzZXJJbmZvKCk7XHJcbiAgcG9wdXBQcm9maWxlRm9ybS5zZXRJbnB1dFZhbHVlcyh7IFwidXNlci1uYW1lXCI6IG5hbWUsIFwidXNlci1hYm91dFwiOiBhYm91dCB9KTtcclxuICBwb3B1cFByb2ZpbGVGb3JtLm9wZW4oKTtcclxuICBmb3JtVmFsaWRhdG9yc1tcImVkaXQtZm9ybVwiXS5yZXNldFZhbGlkYXRpb24oKTtcclxufSk7XHJcblxyXG4vL9C+0LHRitC10LrRgiDQv9C+0L/QsNC/INC00LvRjyDQvtCx0L3QvtCy0LvQtdC90LjRjyDQsNCy0LDRgtCw0YDQsFxyXG5jb25zdCBwb3B1cEF2YXRhckZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgY29udGFpbmVyU2VsZWN0b3I6IFwiI3BvcHVwLXVwZGF0ZS1hdmF0YXJcIixcclxuICBoYW5kbGVTdWJtaXRGb3JtOiAoZm9ybURhdGEpID0+IHtcclxuICAgIHBvcHVwQXZhdGFyRm9ybS5yZW5kZXJMb2FkaW5nKFwi0J7QsdC90L7QstC70LXQvdC40LUg0LDQstCw0YLQsNGA0LAuLi5cIik7XHJcbiAgICBhcGlcclxuICAgICAgLnVwZGF0ZUF2YXRhcihmb3JtRGF0YVtcImlucHV0LWxpbmstb24tYXZhdGFyXCJdKVxyXG4gICAgICAudGhlbigodXNlckRhdGEpID0+IHtcclxuICAgICAgICB1c2VyLnNldEF2YXRhcih1c2VyRGF0YS5hdmF0YXIpO1xyXG4gICAgICAgIHBvcHVwQXZhdGFyRm9ybS5jbG9zZSgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICBwb3B1cEF2YXRhckZvcm0ucmVuZGVyTG9hZGluZyhcItCh0L7RhdGA0LDQvdC40YLRjFwiKTtcclxuICAgICAgfSk7XHJcbiAgfSxcclxufSk7XHJcblxyXG5wb3B1cEF2YXRhckZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8v0L7QsdGA0LDQsdC+0YLRh9C40Log0YHQvtCx0YvRgtC40Y8g0L3QsNC20LDRgtC40LUg0L3QsCDQutC90L7Qv9C60YMg0L/QvtC80LXQvdGP0YLRjCDQsNCy0LDRgtCw0YBcclxudXBkYXRlQXZhdGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgcG9wdXBBdmF0YXJGb3JtLm9wZW4oKTtcclxuICBmb3JtVmFsaWRhdG9yc1tcInVwZGF0ZS1hdmF0YXItZm9ybVwiXS5yZXNldFZhbGlkYXRpb24oKTtcclxufSk7XHJcblxyXG4vL9C+0LHRitC10LrRgiDRhNC+0YDQvNGLINC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcclxuY29uc3QgcG9wdXBBZGRDYXJkRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBjb250YWluZXJTZWxlY3RvcjogXCIjcG9wdXAtYWRkLWZvcm1cIixcclxuICBoYW5kbGVTdWJtaXRGb3JtOiAoZGF0YSkgPT4ge1xyXG4gICAgcG9wdXBBZGRDYXJkRm9ybS5yZW5kZXJMb2FkaW5nKFwi0KHQvtGF0YDQsNC90LXQvdC40LUuLi5cIik7XHJcbiAgICBhcGlcclxuICAgICAgLnNlbnRDYXJkKGRhdGEpXHJcbiAgICAgIC50aGVuKChkYXRhQ2FyZCkgPT4ge1xyXG4gICAgICAgIGNhcmRMaXN0LmFkZEl0ZW0oY3JlYXRlQ2FyZChkYXRhQ2FyZCwgdGVtcGxhdGVTZWxlY3RvckNhcmQpKTtcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIC8v0L3QtSDQt9Cw0LrRgNGL0LLQsNGC0Ywg0L/QvtC/0LDQvywg0L/QvtC60LAg0LrQsNGA0YLQuNC90LrQsCDQvdC1INC30LDQs9GA0YPQt9C40YLRgdGPXHJcbiAgICAgICAgY29uc3QgbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9fbGlzdFwiKTtcclxuICAgICAgICBjb25zdCBsb2FkaW5nQ2FyZCA9XHJcbiAgICAgICAgICBsaXN0LmZpcnN0RWxlbWVudENoaWxkLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcbiAgICAgICAgbG9hZGluZ0NhcmQuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgcG9wdXBBZGRDYXJkRm9ybS5jbG9zZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICBwb3B1cEFkZENhcmRGb3JtLnJlbmRlckxvYWRpbmcoXCLQodC+0LfQtNCw0YLRjFwiKTtcclxuICAgICAgfSk7XHJcbiAgfSxcclxufSk7XHJcblxyXG4vL9GD0YHRgtCw0L3QvtCy0LjRgtGMINGB0LvRg9GI0LDRgtC10LvQuCDRgdC+0LHRi9GC0LjQuSDQvdCwXHJcbnBvcHVwQWRkQ2FyZEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8v0L7QsdGA0LDQsdC+0YLRh9C40Log0YHQvtCx0YvRgtC40Y8g0L3QsNC20LDRgtC40LUg0L3QsCDQutC90L7Qv9C60YMg0LTQvtCx0LDQstC40YLRjCDQutCw0YDRgtC+0YfQutGDXHJcbmFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHBvcHVwQWRkQ2FyZEZvcm0ub3BlbigpO1xyXG4gIGZvcm1WYWxpZGF0b3JzW1wiYWRkLWZvcm1cIl0ucmVzZXRWYWxpZGF0aW9uKCk7XHJcbn0pO1xyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4iXSwibmFtZXMiOlsidGVtcGxhdGVTZWxlY3RvckNhcmQiLCJDYXJkIiwiZGF0YSIsImlkT3duZXIiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlUmVtb3ZlQ2FyZCIsImhhbmRsZUxpa2VDbGljayIsInRoaXMiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfbGlrZXMiLCJsaWtlcyIsIl9pZCIsIl9vd25lciIsIm93bmVyIiwiX2lkT3duZXIiLCJfdGVtcGxhdGVTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlTGlrZUNsaWNrIiwiX2hhbmRsZVJlbW92ZUNhcmQiLCJfcmVtb3ZlIiwiYmluZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfbGlrZUJ1dHRvbiIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIl9lbGVtZW50IiwicmVtb3ZlIiwiY291bnRlciIsInRleHRDb250ZW50IiwiZm9yRWFjaCIsInVzZXIiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwiX3RvZ2dsZUxpa2UiLCJpc0FjdGl2ZUxpa2UiLCJjb250YWlucyIsIl9jYXJkSW1hZ2UiLCJfZGVsZXRlQnV0dG9uIiwiX2dldFRlbXBsYXRlIiwic3JjIiwiYWx0IiwidXBkYXRlQ291bnRlckxpa2VzIiwibGVuZ3RoIiwiX3JlbmRlclRyYXNoSWNvbiIsIl9yZW5kZXJMaWtlSWNvbiIsIl9zZXRFdmVudExpc3RlbmVyIiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm1WYWxpZGF0ZSIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtVmFsaWRhdGUiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl9zdWJtaXRCdXR0b25FbGVtZW50IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiaW5wdXRFbGVtZW50IiwiX2hpZGVJbnB1dEVycm9yIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfc2hvd0lucHV0RXJyb3IiLCJzb21lIiwiX2hhc0ludmFsaWRJbnB1dCIsImRpc2FibGVkIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIlBvcHVwIiwiY29udGFpbmVyU2VsZWN0b3IiLCJfaGFuZGxlRXNjQ2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJ0YXJnZXQiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlU3VibWl0Rm9ybSIsIl9oYW5kbGVTdWJtaXRGb3JtIiwiX2Zvcm0iLCJfZm9ybVZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJ0ZXh0IiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiUG9wdXBXaXRoSW1hZ2UiLCJfaW1hZ2UiLCJfZmlnY2FwdGlvbiIsInRpdGxlSW1hZ2UiLCJsaW5rSW1hZ2UiLCJTZWN0aW9uIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJpdGVtIiwicHJlcGVuZCIsImlubmVySFRNTCIsIml0ZW1MaXN0IiwiY2xlYXIiLCJVc2VySW5mbyIsInVzZXJOYW1lU2VsZWN0b3IiLCJ1c2VyQWJvdXRTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX3VzZXJOYW1lIiwiX3VzZXJBYm91dCIsIl9hdmF0YXIiLCJhYm91dCIsInVzZXJOYW1lIiwidXNlckFib3V0IiwiYXZhdGFyIiwiQXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJyZXNwb25zZSIsImVycm9yTWVzc2FnZSIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJFcnJvciIsInJlcyIsInN0YXR1cyIsImZldGNoIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0aGVuIiwiX2hhbmRsZVJlc3BvbnNlIiwiY2FyZElkIiwicG9wdXBDb25maXJtIiwiX2hhbmRsZVN1Ym1pdCIsInVuZGVmaW5lZCIsImhhbmRsZVN1Ym1pdCIsImJ0biIsImFwaSIsIkF1dGhvcml6YXRpb24iLCJlZGl0QnV0dG9uIiwiYWRkQnV0dG9uIiwidXBkYXRlQXZhdGFyQnV0dG9uIiwiY2FyZEltYWdlUG9wdXAiLCJzZXRFdmVudExpc3RlbmVycyIsImZvcm1WYWxpZGF0b3JzIiwiZm9ybVNlbGVjdG9yIiwiZm9ybUVsZW1lbnQiLCJ2YWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSIsImVuYWJsZVZhbGlkYXRpb24iLCJwb3B1cENvbmZpcm1EZWxldGUiLCJQb3B1cENvbmZpcm0iLCJjcmVhdGVDYXJkIiwiZGF0YUNhcmQiLCJfaXNPd25lciIsIl90ZW1wbGF0ZVNlbGVjdG9yQ2FyZCIsImNhcmQiLCJvcGVuIiwiaGFuZGxlQWRkTGlrZUNsaWNrIiwic2V0TGlrZSIsInRvZ2dsZUxpa2UiLCJjYXRjaCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsIm1lc3NhZ2UiLCJoYW5kbGVEZWxldGVMaWtlQ2xpY2siLCJkZWxldGVMaWtlIiwiZGVsZXRlQ2FyZCIsImRlbGV0ZSIsImZpbmFsbHkiLCJnZW5lcmF0ZSIsImNhcmRMaXN0IiwiYWRkSXRlbSIsImFsbCIsImdldFVzZXJJbmZvIiwiZ2V0Q2FyZExpc3QiLCJpbmZvRGF0YSIsImNhcmRMaXN0RGF0YSIsInNldFVzZXJJbmZvIiwic2V0QXZhdGFyIiwic2V0SWQiLCJyZW5kZXJJdGVtcyIsInJldmVyc2UiLCJwb3B1cFByb2ZpbGVGb3JtIiwiZm9ybURhdGEiLCJyZW5kZXJMb2FkaW5nIiwidXBkYXRlVXNlckluZm8iLCJ1c2VyRGF0YSIsInNldElucHV0VmFsdWVzIiwicmVzZXRWYWxpZGF0aW9uIiwicG9wdXBBdmF0YXJGb3JtIiwidXBkYXRlQXZhdGFyIiwicG9wdXBBZGRDYXJkRm9ybSIsInNlbnRDYXJkIiwiZmlyc3RFbGVtZW50Q2hpbGQiXSwic291cmNlUm9vdCI6IiJ9