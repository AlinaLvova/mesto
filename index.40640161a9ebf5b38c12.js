(()=>{"use strict";var e="#cards-list-template";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}var r=function(){function e(t,n,r,o){var i=o.handleCardClick,a=o.handleRemoveCard,u=o.handleLikeClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._likes=t.likes,this._id=t._id,this._owner=t.owner,this._idOwner=n,this._templateSelector=r,this._handleCardClick=i,this._handleLikeClick=u,this._handleRemoveCard=a,this._remove=this._remove.bind(this)}var t,r;return t=e,r=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".card").cloneNode(!0)}},{key:"_toggleLike",value:function(){this._likeButton.classList.toggle("card__like_active")}},{key:"_remove",value:function(){this._handleRemoveCard(this._id)}},{key:"delete",value:function(){this._element.remove(),this._element=null}},{key:"updateCounterLikes",value:function(e){this._element.querySelector(".card__like-counter").textContent=e>0?e:""}},{key:"_renderLikeIcon",value:function(){var e=this;this._likes.forEach((function(t){e._idOwner===t._id&&e._element.querySelector(".card__like").classList.add("card__like_active")}))}},{key:"_setEventListener",value:function(){var e=this;this._likeButton.addEventListener("click",(function(){e._toggleLike();var t=e._likeButton.classList.contains("card__like_active");e._handleLikeClick(t)})),this._cardImage.addEventListener("click",(function(){e._handleCardClick(e._name,e._link)}))}},{key:"getCard",value:function(){return this}},{key:"_renderTrashIcon",value:function(){var e=this;this._idOwner===this._owner._id&&(this._deleteButton=this._element.querySelector(".card__delete"),this._deleteButton.classList.add("card__delete_active"),this._deleteButton.addEventListener("click",(function(){e._handleRemoveCard(e._id)})))}},{key:"generate",value:function(){return this._element=this._getTemplate(),this._likeButton=this._element.querySelector(".card__like"),this._cardImage=this._element.querySelector(".card__image"),this._element.querySelector(".card__title").textContent=this._name,this._cardImage.src=this._link,this._cardImage.alt="Фото пользователя "+this._name,this.updateCounterLikes(this._likes.length),this._renderTrashIcon(),this._renderLikeIcon(),this._setEventListener(),this._element}}],r&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===o(i)?i:String(i)),r)}var i}var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formValidate=n,this._inputList=Array.from(this._formValidate.querySelectorAll(this._inputSelector)),this._submitButtonElement=this._formValidate.querySelector(this._submitButtonSelector)}var t,n;return t=e,(n=[{key:"resetValidation",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"_hideInputError",value:function(e){var t=this._formValidate.querySelector(".".concat(e.id,"-error"));t.classList.remove(this._errorClass),t.textContent="",e.classList.remove(this._inputErrorClass)}},{key:"_showInputError",value:function(e){var t=this._formValidate.querySelector(".".concat(e.id,"-error"));t.classList.add(this._errorClass),t.textContent=e.validationMessage,e.classList.add(this._inputErrorClass)}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput(this._inputList)?(this._submitButtonElement.classList.add(this._inactiveButtonClass),this._submitButtonElement.disabled=!0):(this._submitButtonElement.classList.remove(this._inactiveButtonClass),this._submitButtonElement.disabled=!1)}},{key:"_setEventListener",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t),t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListener()}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===u(o)?o:String(o)),r)}var o}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._element=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){document.addEventListener("keydown",this._handleEscClose),this._element.classList.add("popup_opened")}},{key:"close",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._element.classList.remove("popup_opened")}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._element.querySelector(".popup__close-btn").addEventListener("click",(function(){return e.close()})),this._element.addEventListener("mousedown",(function(t){t.target.classList.contains("popup")&&e.close()}))}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===s(o)?o:String(o)),r)}var o}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},p.apply(this,arguments)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(o){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var t,n=e.containerSelector,r=e.handleSubmitForm;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._handleSubmitForm=r,t._form=t._element.querySelector(".popup__form"),t._inputList=t._element.querySelectorAll(".popup__input-field"),t}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setInputValues",value:function(e){this._inputList.forEach((function(t){t.value=e[t.name]}))}},{key:"renderLoading",value:function(e){this._form.querySelector(".popup__submit-btn").textContent=e}},{key:"setEventListeners",value:function(){var e=this;p(h(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleSubmitForm(e._getInputValues()),e.close()}))}},{key:"close",value:function(){this._form.reset(),p(h(a.prototype),"close",this).call(this)}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===m(o)?o:String(o)),r)}var o}function b(){return b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},b.apply(this,arguments)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(r);if(o){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._image=t._element.querySelector(".popup__image"),t._figcaption=t._element.querySelector(".popup__figcaption"),t}return t=a,(n=[{key:"open",value:function(e,t){this._image.src=t,this._figcaption.textContent=e,this._image.alt="Пользовательское описание - ".concat(e,"."),b(g(a.prototype),"open",this).call(this)}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==k(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===k(o)?o:String(o)),r)}var o}var E=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._element=document.querySelector(n)}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._element.prepend(e)}},{key:"clear",value:function(){this._element.innerHTML=""}},{key:"renderItems",value:function(e){var t=this;this.clear(),e.forEach((function(e){t._renderer(e)}))}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===O(o)?o:String(o)),r)}var o}var j=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=document.querySelector(t),this._userAbout=document.querySelector(n),this._avatar=document.querySelector(r),this._avatar.alt="Аватар"}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._userName.textContent,about:this._userAbout.textContent,id:this._id}}},{key:"setUserInfo",value:function(e,t){this._userName.textContent=e,this._userAbout.textContent=t}},{key:"setAvatar",value:function(e){this._avatar.src=e}},{key:"setId",value:function(e){this._id=e}}])&&L(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===C(o)?o:String(o)),r)}var o}var I=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl=t.baseUrl,this.headers=t.headers}var t,n;return t=e,(n=[{key:"_handleResponse",value:function(e,t){return e.ok?e.json():Promise.reject(new Error("Ошибка: ".concat(res.status,". Сообщение об ошибке: ").concat(t)))}},{key:"sentCard",value:function(e){var t=this,n=e.name,r=e.link;return fetch("".concat(this.baseUrl,"/cards"),{headers:this.headers,method:"POST",body:JSON.stringify({name:n,link:r})}).then((function(e){return t._handleResponse(e,"Данные добавленной карты не были успешно получены сервером")}))}},{key:"updateUserInfo",value:function(e,t){var n=this;return fetch("".concat(this.baseUrl,"/users/me"),{headers:this.headers,method:"PATCH",body:JSON.stringify({name:e,about:t})}).then((function(e){return n._handleResponse(e,"Данные о пользователе не были успешно обновлены на сервере")}))}},{key:"updateAvatar",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/users/me/avatar"),{headers:this.headers,method:"PATCH",body:JSON.stringify({avatar:e})}).then((function(e){return t._handleResponse(e,"Фото аватара не было успешно обновлено на сервере")}))}},{key:"getUserInfo",value:function(){var e=this;return fetch("".concat(this.baseUrl,"/users/me"),{headers:this.headers,method:"GET"}).then((function(t){return e._handleResponse(t,"Данные о пользователе не были успешно получены")}))}},{key:"setLike",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/cards/").concat(e,"/likes"),{headers:this.headers,method:"PUT"}).then((function(e){return t._handleResponse(e,"Данные о добавлении лайка карточке от попользователе не были успешно обновлены на сервере")}))}},{key:"deleteLike",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/cards/").concat(e,"/likes"),{headers:this.headers,method:"DELETE"}).then((function(e){return t._handleResponse(e,"Данные об удалении лайка карточке от попользователе не были успешно обновлены на сервере")}))}},{key:"deleteCard",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/cards/").concat(e),{headers:this.headers,method:"DELETE"}).then((function(e){return t._handleResponse(e,"Данные о карточке попользователе не были успешно удалены на сервере")}))}},{key:"getCardList",value:function(){var e=this;return fetch("".concat(this.baseUrl,"/cards"),{headers:this.headers,method:"GET"}).then((function(t){return e._handleResponse(t,"Данные о списке карт не были успешно получены")}))}}])&&P(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==R(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===R(o)?o:String(o)),r)}var o}function q(){return q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},q.apply(this,arguments)}function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=A(r);if(o){var n=A(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._form=t._element.querySelector(".popup__form"),t._handleSubmit=void 0,t}return t=a,(n=[{key:"open",value:function(e){var t=e.handleSubmit;q(A(a.prototype),"open",this).call(this),this._handleSubmit=t}},{key:"close",value:function(){q(A(a.prototype),"close",this).call(this),this._handleSubmit=void 0}},{key:"setEventListeners",value:function(){var e=this;q(A(a.prototype),"setEventListeners",this).call(this),this.btn=document.querySelector(".popup__submit-btn"),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleSubmit()}))}}])&&T(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l);function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=new I({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-60",headers:{Authorization:"615ec7c0-c05d-4e3c-8fba-c9ef3b1c5572","Content-Type":"application/json"}}),D=document.querySelector(".profile__edit-button"),N=document.querySelector(".profile__add-button"),F=document.querySelector(".profile__avatar-button"),H=new S("#popup-open-img");H.setEventListeners();var J,M={};J={formSelector:".popup__form",inputSelector:".popup__input-field",submitButtonSelector:".popup__submit-btn",inactiveButtonClass:"popup__submit-btn_disabled",inputErrorClass:"popup__input-field_type_error",errorClass:"popup__input-field-error_visible"},Array.from(document.querySelectorAll(J.formSelector)).forEach((function(e){var t=new a(J,e),n=e.getAttribute("name");M[n]=t,t.enableValidation()}));var G=new U("#popup-confirmation");function z(e,t){var n=new r(e,K.getUserInfo().id,t,{handleCardClick:function(e,t){H.open(e,t)},handleLikeClick:function(t){t?x.setLike(e._id).then((function(e){n.updateCounterLikes(e.likes.length)})).catch((function(e){console.log(e.message)})):x.deleteLike(e._id).then((function(e){n.updateCounterLikes(e.likes.length)})).catch((function(e){console.log(e.message)}))},handleRemoveCard:function(e){G.open({handleSubmit:function(){x.deleteCard(e).then((function(){n.delete()})).catch((function(e){console.log(e.message)})).finally((function(){G.close()}))}})}});return n.generate()}G.setEventListeners();var $=new E({renderer:function(t){var n=z(t,e);$.addItem(n)}},".gallery__list");Promise.all([x.getUserInfo(),x.getCardList()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,n)||function(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];K.setUserInfo(o.name,o.about),K.setAvatar(o.avatar),K.setId(o._id),$.renderItems(i.reverse())})).catch((function(e){console.log(e.message)}));var K=new j(".profile__name",".profile__about",".profile__avatar");G.setEventListeners();var Q=new d({containerSelector:"#popup-edit-form",handleSubmitForm:function(e){Q.renderLoading("Обновление..."),x.updateUserInfo(e["user-name"],e["user-about"]).then((function(e){K.setUserInfo(e.name,e.about),Q.close()})).catch((function(e){console.log(e.message)})).finally((function(){Q.renderLoading("Сохранить")}))}});Q.setEventListeners(),D.addEventListener("click",(function(){var e=K.getUserInfo(),t=e.name,n=e.about;Q.setInputValues({"user-name":t,"user-about":n}),Q.open(),M["edit-form"].resetValidation()}));var W=new d({containerSelector:"#popup-update-avatar",handleSubmitForm:function(e){W.renderLoading("Обновление аватара..."),x.updateAvatar(e["input-link-on-avatar"]).then((function(e){K.setAvatar(e.avatar),W.close()})).catch((function(e){console.log(e.message)})).finally((function(){W.renderLoading("Сохранить")}))}});W.setEventListeners(),F.addEventListener("click",(function(){W.open(),M["update-avatar-form"].resetValidation()}));var X=new d({containerSelector:"#popup-add-form",handleSubmitForm:function(t){X.renderLoading("Сохранение..."),x.sentCard(t).then((function(t){$.addItem(z(t,e))})).then((function(){document.querySelector(".gallery__list").firstElementChild.querySelector(".card__image").addEventListener("load",(function(){X.close()}))})).catch((function(e){console.log(e.message)})).finally((function(){X.renderLoading("Создать")}))}});X.setEventListeners(),N.addEventListener("click",(function(){X.open(),M["add-form"].resetValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YyxDQUN4Q1Asa0JBQW1CLHVCQUNuQlEsaUJBQWtCLFNBQUMwRyxHQUNqQk0sRUFBZ0JMLGNBQWMseUJBQzlCL0MsRUFDR3FELGFBQWFQLEVBQVMseUJBQ3RCdEQsTUFBSyxTQUFDeUQsR0FDTHRLLEVBQUs4SixVQUFVUSxFQUFTM0UsUUFDeEI4RSxFQUFnQm5ILE9BQ2xCLElBQ0N1RixPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUlGLEVBQU1HLFFBQ3BCLElBQ0NJLFNBQVEsV0FDUG9CLEVBQWdCTCxjQUFjLFlBQ2hDLEdBQ0osSUFHRkssRUFBZ0I5QyxvQkFHaEJGLEVBQW1CdkgsaUJBQWlCLFNBQVMsV0FDM0N1SyxFQUFnQi9CLE9BQ2hCZCxFQUFlLHNCQUFzQjRDLGlCQUN2QyxJQUdBLElBQU1HLEVBQW1CLElBQUluSCxFQUFjLENBQ3pDUCxrQkFBbUIsa0JBQ25CUSxpQkFBa0IsU0FBQzVGLEdBQ2pCOE0sRUFBaUJQLGNBQWMsaUJBQy9CL0MsRUFDR3VELFNBQVMvTSxHQUNUZ0osTUFBSyxTQUFDeUIsR0FDTGlCLEVBQVNDLFFBQVFuQixFQUFXQyxFQUFVM0ssR0FDeEMsSUFDQ2tKLE1BQUssV0FFU3pILFNBQVNDLGNBQWMsa0JBRTdCd0wsa0JBQWtCeEwsY0FBYyxnQkFDM0JhLGlCQUFpQixRQUFRLFdBQ25DeUssRUFBaUJySCxPQUNuQixHQUNGLElBQ0N1RixPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUlGLEVBQU1HLFFBQ3BCLElBQ0NJLFNBQVEsV0FDUHNCLEVBQWlCUCxjQUFjLFVBQ2pDLEdBQ0osSUFJRk8sRUFBaUJoRCxvQkFHakJILEVBQVV0SCxpQkFBaUIsU0FBUyxXQUNsQ3lLLEVBQWlCakMsT0FDakJkLEVBQWUsWUFBWTRDLGlCQUM3QixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwQ29uZmlybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xuICB7XG4gICAgbmFtZTogXCLQkNGA0YXRi9C3XCIsXG4gICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYXJraHl6LmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCLQp9C10LvRj9Cx0LjQvdGB0LrQsNGPINC+0LHQu9Cw0YHRgtGMXCIsXG4gICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvY2hlbHlhYmluc2stb2JsYXN0LmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCLQmNCy0LDQvdC+0LLQvlwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2l2YW5vdm8uanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcItCa0LDQvNGH0LDRgtC60LBcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9rYW1jaGF0a2EuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcItCl0L7Qu9C80L7Qs9C+0YDRgdC60LjQuSDRgNCw0LnQvtC9XCIsXG4gICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2hvbG1vZ29yc2t5LXJheW9uLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCLQkdCw0LnQutCw0LtcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9iYWlrYWwuanBnXCIsXG4gIH0sXG5dO1xuXG5leHBvcnQgY29uc3QgdGVtcGxhdGVTZWxlY3RvckNhcmQgPSBcIiNjYXJkcy1saXN0LXRlbXBsYXRlXCI7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoXG4gICAgZGF0YSxcbiAgICBpZE93bmVyLFxuICAgIHRlbXBsYXRlU2VsZWN0b3IsXG4gICAgeyBoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZVJlbW92ZUNhcmQsIGhhbmRsZUxpa2VDbGljayB9XG4gICkge1xuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcbiAgICB0aGlzLl9vd25lciA9IGRhdGEub3duZXI7XG4gICAgdGhpcy5faWRPd25lciA9IGlkT3duZXI7XG4gICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XG4gICAgLy/RhNGD0L3QutGG0LjRjyDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDRgSDQutCw0YDRgtC40L3QutC+0Lkg0L/QviDQutC70LjQutGDINC90LAg0LrQsNGA0YLQvtGH0LrRg1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sgPSBoYW5kbGVMaWtlQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlUmVtb3ZlQ2FyZCA9IGhhbmRsZVJlbW92ZUNhcmQ7XG4gICAgdGhpcy5fcmVtb3ZlID0gdGhpcy5fcmVtb3ZlLmJpbmQodGhpcyk7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgfVxuXG4gIC8v0YTRg9C90LrRhtC40Y8g0L7QsdGA0LDQsdC+0YLRh9C40LrQsCDQvdCw0LbQsNGC0LjRjyDQvdCwINC70LDQudC6INC60LDRgNGC0L7Rh9C60LhcbiAgX3RvZ2dsZUxpa2UoKSB7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZV9hY3RpdmVcIik7XG4gIH1cblxuICBfcmVtb3ZlKCkge1xuICAgIHRoaXMuX2hhbmRsZVJlbW92ZUNhcmQodGhpcy5faWQpO1xuICB9XG5cbiAgZGVsZXRlKCkge1xuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gIH1cblxuICAvL9C+0LHQvdC+0LLQuNGC0Ywg0LrQvtC70LjRh9C10YHRgtCy0L4g0LvQsNC50LrQvtCyXG4gIHVwZGF0ZUNvdW50ZXJMaWtlcyhjb3VudGVyKSB7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtY291bnRlclwiKS50ZXh0Q29udGVudCA9XG4gICAgICBjb3VudGVyID4gMCA/IGNvdW50ZXIgOiBcIlwiO1xuICB9XG5cbiAgLy/QvtGC0YDQuNGB0L7QstC60LAg0LvQsNC50LrQvtCyINGDINGC0LXRhSDQutCw0YDRgtC+0YfQtdC6LCDQutC+0YLQvtGA0YvQtSDQv9C+0L3RgNCw0LLQuNC70LjRgdGMINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjlxuICBfcmVuZGVyTGlrZUljb24oKSB7XG4gICAgdGhpcy5fbGlrZXMuZm9yRWFjaCgodXNlcikgPT4ge1xuICAgICAgaWYgKHRoaXMuX2lkT3duZXIgPT09IHVzZXIuX2lkKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRcbiAgICAgICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlXCIpXG4gICAgICAgICAgLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlX2FjdGl2ZVwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVyKCkge1xuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX3RvZ2dsZUxpa2UoKTtcbiAgICAgIGNvbnN0IGlzQWN0aXZlTGlrZSA9XG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2FyZF9fbGlrZV9hY3RpdmVcIik7XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2soaXNBY3RpdmVMaWtlKTtcbiAgICB9KTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldENhcmQoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvL9C+0YLRgNC40YHQvtCy0LDRgtGMINC40LrQvtC90LrRgyBcItGD0LTQsNC70LjRgtGMXCIg0YLQvtC70YzQutC+INGDINC60LDRgNGC0L7Rh9C10Log0LLQu9Cw0LTQtdC70YzRhtCwXG4gIF9yZW5kZXJUcmFzaEljb24oKSB7XG4gICAgaWYgKHRoaXMuX2lkT3duZXIgPT09IHRoaXMuX293bmVyLl9pZCkge1xuICAgICAgdGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZVwiKTtcbiAgICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fZGVsZXRlX2FjdGl2ZVwiKTtcbiAgICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9oYW5kbGVSZW1vdmVDYXJkKHRoaXMuX2lkKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGdlbmVyYXRlKCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZVwiKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG5cbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIikudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IFwi0KTQvtGC0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPIFwiICsgdGhpcy5fbmFtZTtcblxuICAgIHRoaXMudXBkYXRlQ291bnRlckxpa2VzKHRoaXMuX2xpa2VzLmxlbmd0aCk7XG4gICAgdGhpcy5fcmVuZGVyVHJhc2hJY29uKCk7XG4gICAgdGhpcy5fcmVuZGVyTGlrZUljb24oKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVyKCk7XG5cbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybVZhbGlkYXRlKSB7XG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGNvbmZpZy5pbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBjb25maWcuZXJyb3JDbGFzcztcbiAgICB0aGlzLl9mb3JtVmFsaWRhdGUgPSBmb3JtVmFsaWRhdGU7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX2Zvcm1WYWxpZGF0ZS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXG4gICAgKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybVZhbGlkYXRlLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvclxuICAgICk7XG4gIH1cblxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcblxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSk7XG4gIH1cblxuICAvL9GB0LrRgNGL0YLRjCDRgdC+0L7QsdGJ0LXQvdC40LUg0L7QsSDQvtGI0LjQsdC60LVcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1WYWxpZGF0ZS5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcblxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgfVxuXG4gIC8v0L/QvtC60LDQt9Cw0YLRjCDRgdC+0L7QsdGJ0LXQvdC40LUg0L7QsSDQvtGI0LjQsdC60LVcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1WYWxpZGF0ZS5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcblxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICB9XG5cbiAgLy8g0L/RgNC+0LLQtdGA0LrQsCDRgyDQuNC90L/Rg9GC0L7QsiDQvdCwINGB0LLQvtC50YHRgtCy0L4gdmFsaWRpdHlcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcbiAgICBpZiAoaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8v0L/RgNC+0LLQtdGA0LrQsCDQvdCwINCy0LDQu9C40LTQvdC+0YHRgtGMINCy0YHQtdGFINC/0L7Qu9C10Lkg0LIg0YTQvtGA0LzQtVxuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKTtcbiAgfVxuXG4gIC8v0L/QtdGA0LXQutC70Y7Rh9C40YLRjCDRgdC+0YHRgtC+0Y/QvdC40LUg0LrQvdC+0L/QutC4INC90LAg0LDQutGC0LjQstC90L7QtS/QvdC10LDQutGC0LjQstC90L7QtVxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCh0aGlzLl9pbnB1dExpc3QpKSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8v0L7QsdGA0LDQsdC+0YLRh9C40Log0YHQvtCx0YvRgtC40Y8g0LjQvdC/0YPRgiDQtNC70Y8g0LLRgdC10YUg0YTQvtGA0LxcbiAgX3NldEV2ZW50TGlzdGVuZXIoKSB7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcblxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcigpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2UtYnRuXCIpO1xuICAgIC8vINGD0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdC8INC+0LHRgNCw0LHQvtGC0YfQuNC6INC30LDQutGA0YvRgtC40Y8g0L3QsCDQutGA0LXRgdGC0LjQulxuICAgIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLmNsb3NlKCkpO1xuXG4gICAgLy/QtNC+0LHQsNCy0LjRgtGMINC+0LHRgNCw0LHQvtGC0YfQuNC6INC00LvRjyDQt9Cw0LrRgNGL0YLQuNGPINC/0L4gb3ZlcmxheVxuICAgIHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cFwiKSkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IGNvbnRhaW5lclNlbGVjdG9yLCBoYW5kbGVTdWJtaXRGb3JtIH0pIHtcbiAgICBzdXBlcihjb250YWluZXJTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlU3VibWl0Rm9ybSA9IGhhbmRsZVN1Ym1pdEZvcm07XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcbiAgICAvLyDRgdC/0LjRgdC+0Log0LLRgdC10YUg0Y3Qu9C10LzQtdC90YLQvtCyINC/0L7Qu9C10LlcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0LWZpZWxkXCIpO1xuICB9XG5cbiAgLy/RgdC+0LHRgNCw0YLRjCDQtNCw0L3QvdGL0LUg0LLRgdC10YUg0L/QvtC70LXQuSDRhNC+0YDQvNGLXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICAvLyDRgdC+0LfQtNCw0ZHQvCDQv9GD0YHRgtC+0Lkg0L7QsdGK0LXQutGCXG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xuXG4gICAgLy8g0LTQvtCx0LDQstC70Y/QtdC8INCyINGN0YLQvtGCINC+0LHRitC10LrRgiDQt9C90LDRh9C10L3QuNGPINCy0YHQtdGFINC/0L7Qu9C10LlcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcblxuICAgIC8vINCy0L7Qt9Cy0YDQsNGJ0LDQtdC8INC+0LHRitC10LrRgiDQt9C90LDRh9C10L3QuNC5XG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XG4gIH1cblxuICAvL9C30LDQv9C+0LvQvdC40YLRjCDQv9C+0LvRjyDRhNC+0YDQvNGLINC00LDQvdC90YvQvNC4XG4gIHNldElucHV0VmFsdWVzKGRhdGEpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlckxvYWRpbmcodGV4dCkge1xuICAgIHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fc3VibWl0LWJ0blwiKS50ZXh0Q29udGVudCA9IHRleHQ7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXRGb3JtKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICBzdXBlcihjb250YWluZXJTZWxlY3Rvcik7XG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlXCIpO1xuICAgIHRoaXMuX2ZpZ2NhcHRpb24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ZpZ2NhcHRpb25cIik7XG4gIH1cblxuICBvcGVuKHRpdGxlSW1hZ2UsIGxpbmtJbWFnZSkge1xuICAgIHRoaXMuX2ltYWdlLnNyYyA9IGxpbmtJbWFnZTtcbiAgICB0aGlzLl9maWdjYXB0aW9uLnRleHRDb250ZW50ID0gdGl0bGVJbWFnZTtcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSBg0J/QvtC70YzQt9C+0LLQsNGC0LXQu9GM0YHQutC+0LUg0L7Qv9C40YHQsNC90LjQtSAtICR7dGl0bGVJbWFnZX0uYDtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9lbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICBhZGRJdGVtKGl0ZW0pIHtcbiAgICB0aGlzLl9lbGVtZW50LnByZXBlbmQoaXRlbSk7XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICB0aGlzLl9lbGVtZW50LmlubmVySFRNTCA9IFwiXCI7XG4gIH1cblxuICByZW5kZXJJdGVtcyhpdGVtTGlzdCkge1xuICAgIHRoaXMuY2xlYXIoKTtcblxuICAgIGl0ZW1MaXN0LmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHVzZXJOYW1lU2VsZWN0b3IsIHVzZXJBYm91dFNlbGVjdG9yLCBhdmF0YXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX3VzZXJOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyTmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl91c2VyQWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJBYm91dFNlbGVjdG9yKTtcbiAgICB0aGlzLl9hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcbiAgICB0aGlzLl9hdmF0YXIuYWx0ID0gXCLQkNCy0LDRgtCw0YBcIjtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCxcbiAgICAgIGFib3V0OiB0aGlzLl91c2VyQWJvdXQudGV4dENvbnRlbnQsXG4gICAgICBpZDogdGhpcy5faWQsXG4gICAgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKHVzZXJOYW1lLCB1c2VyQWJvdXQpIHtcbiAgICB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCA9IHVzZXJOYW1lO1xuICAgIHRoaXMuX3VzZXJBYm91dC50ZXh0Q29udGVudCA9IHVzZXJBYm91dDtcbiAgfVxuXG4gIHNldEF2YXRhcihhdmF0YXIpIHtcbiAgICB0aGlzLl9hdmF0YXIuc3JjID0gYXZhdGFyO1xuICB9XG5cbiAgc2V0SWQoaWQpIHtcbiAgICB0aGlzLl9pZCA9IGlkO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICB0aGlzLmJhc2VVcmwgPSBjb25maWcuYmFzZVVybDtcbiAgICB0aGlzLmhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcbiAgfVxuXG4gIC8vINGE0YPQvdC60YbQuNGPINC+0LHRgNCw0LHQvtGC0LrQuCDRgNC10LfRg9C70YzRgtCw0YLQsCDQvtGC0LLQtdGC0LAg0YHQtdGA0LLQtdGA0LBcbiAgX2hhbmRsZVJlc3BvbnNlKHJlc3BvbnNlLCBlcnJvck1lc3NhZ2UpIHtcbiAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIG5ldyBFcnJvcihg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9LiDQodC+0L7QsdGJ0LXQvdC40LUg0L7QsSDQvtGI0LjQsdC60LU6ICR7ZXJyb3JNZXNzYWdlfWApXG4gICAgKTtcbiAgfVxuXG4gIHNlbnRDYXJkKHsgbmFtZSwgbGluayB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBsaW5rOiBsaW5rLFxuICAgICAgfSksXG4gICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVSZXNwb25zZShcbiAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgIFwi0JTQsNC90L3Ri9C1INC00L7QsdCw0LLQu9C10L3QvdC+0Lkg0LrQsNGA0YLRiyDQvdC1INCx0YvQu9C4INGD0YHQv9C10YjQvdC+INC/0L7Qu9GD0YfQtdC90Ysg0YHQtdGA0LLQtdGA0L7QvFwiXG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgLy/QvtCx0L3QvtCy0LvQtdC90LjQtSDQtNCw0L3QvdGL0YUg0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1INC90LAg0YHQtdGA0LLQtdGA0LVcbiAgdXBkYXRlVXNlckluZm8obmFtZSwgYWJvdXQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBhYm91dDogYWJvdXQsXG4gICAgICB9KSxcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVJlc3BvbnNlKFxuICAgICAgICByZXNwb25zZSxcbiAgICAgICAgXCLQlNCw0L3QvdGL0LUg0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1INC90LUg0LHRi9C70Lgg0YPRgdC/0LXRiNC90L4g0L7QsdC90L7QstC70LXQvdGLINC90LAg0YHQtdGA0LLQtdGA0LVcIlxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8v0L7QsdC90L7QstC40YLRjCDQsNCy0LDRgtCw0YBcbiAgdXBkYXRlQXZhdGFyKGF2YXRhcikge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXI6IGF2YXRhcixcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5faGFuZGxlUmVzcG9uc2UoXG4gICAgICAgIHJlc3BvbnNlLFxuICAgICAgICBcItCk0L7RgtC+INCw0LLQsNGC0LDRgNCwINC90LUg0LHRi9C70L4g0YPRgdC/0LXRiNC90L4g0L7QsdC90L7QstC70LXQvdC+INC90LAg0YHQtdGA0LLQtdGA0LVcIlxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8v0L/QvtC70YPRh9C40YLRjCDQuNC90YTQvtGA0LzQsNGG0LjRjiDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LVcbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVSZXNwb25zZShcbiAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgIFwi0JTQsNC90L3Ri9C1INC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtSDQvdC1INCx0YvQu9C4INGD0YHQv9C10YjQvdC+INC/0L7Qu9GD0YfQtdC90YtcIlxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8v0L/QvtGB0YLQsNCy0LjRgtGMINC70LDQudC6INC60LDRgNGC0L7Rh9C60LVcbiAgc2V0TGlrZShjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVSZXNwb25zZShcbiAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgIFwi0JTQsNC90L3Ri9C1INC+INC00L7QsdCw0LLQu9C10L3QuNC4INC70LDQudC60LAg0LrQsNGA0YLQvtGH0LrQtSDQvtGCINC/0L7Qv9C+0LvRjNC30L7QstCw0YLQtdC70LUg0L3QtSDQsdGL0LvQuCDRg9GB0L/QtdGI0L3QviDQvtCx0L3QvtCy0LvQtdC90Ysg0L3QsCDRgdC10YDQstC10YDQtVwiXG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgLy/Rg9Cx0YDQsNGC0Ywg0LvQsNC50Log0YEg0LrQsNGA0YLQvtGH0LrQuFxuICBkZWxldGVMaWtlKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVJlc3BvbnNlKFxuICAgICAgICByZXNwb25zZSxcbiAgICAgICAgXCLQlNCw0L3QvdGL0LUg0L7QsSDRg9C00LDQu9C10L3QuNC4INC70LDQudC60LAg0LrQsNGA0YLQvtGH0LrQtSDQvtGCINC/0L7Qv9C+0LvRjNC30L7QstCw0YLQtdC70LUg0L3QtSDQsdGL0LvQuCDRg9GB0L/QtdGI0L3QviDQvtCx0L3QvtCy0LvQtdC90Ysg0L3QsCDRgdC10YDQstC10YDQtVwiXG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgLy/Rg9C00LDQu9C40YLRjCDQutCw0YDRgtC+0YfQutGDINC/0L4gaWRcbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVSZXNwb25zZShcbiAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgIFwi0JTQsNC90L3Ri9C1INC+INC60LDRgNGC0L7Rh9C60LUg0L/QvtC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtSDQvdC1INCx0YvQu9C4INGD0YHQv9C10YjQvdC+INGD0LTQsNC70LXQvdGLINC90LAg0YHQtdGA0LLQtdGA0LVcIlxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8v0L/QvtC70YPRh9C40YLRjCDRgdC/0LjRgdC+0Log0LrQsNGA0YLQvtGH0LXQulxuICBnZXRDYXJkTGlzdCgpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVJlc3BvbnNlKFxuICAgICAgICByZXNwb25zZSxcbiAgICAgICAgXCLQlNCw0L3QvdGL0LUg0L4g0YHQv9C40YHQutC1INC60LDRgNGCINC90LUg0LHRi9C70Lgg0YPRgdC/0LXRiNC90L4g0L/QvtC70YPRh9C10L3Ri1wiXG4gICAgICApO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgcG9wdXBDb25maXJtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHN1cGVyKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIG9wZW4oeyBoYW5kbGVTdWJtaXQgfSkge1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXQgPSBoYW5kbGVTdWJtaXQ7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5idG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19zdWJtaXQtYnRuXCIpO1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXQoKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgdGVtcGxhdGVTZWxlY3RvckNhcmQgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcbmltcG9ydCBQb3B1cENvbmZpcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBDb25maXJtLmpzXCI7XG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuXG5jb25zdCBhcGlDb25maWcgPSB7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC02MFwiLFxuICBoZWFkZXJzOiB7XG4gICAgQXV0aG9yaXphdGlvbjogXCI2MTVlYzdjMC1jMDVkLTRlM2MtOGZiYS1jOWVmM2IxYzU1NzJcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn07XG5cbi8vYXBpXG5jb25zdCBhcGkgPSBuZXcgQXBpKGFwaUNvbmZpZyk7XG5cbmNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xuY29uc3QgYWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xuY29uc3QgdXBkYXRlQXZhdGFyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXItYnV0dG9uXCIpO1xuXG4vL9C/0L7Qv9Cw0L8g0YEg0YPQstC10LvQuNGH0LXQvdC90L7QuSDQutCw0YDRgtC40L3QutC+0LlcbmNvbnN0IGNhcmRJbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI3BvcHVwLW9wZW4taW1nXCIpO1xuXG4vL9GD0YHRgtCw0L3QvtCy0LjRgtGMINC+0LHRgNCw0LHQvtGC0YfQuNC60Lgg0YHQvtCx0YvRgtC40Lkg0L3QsCDQv9C+0L/QsNC/INGBINC60LDRgNGC0LjQvdC60L7QuVxuY2FyZEltYWdlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vL2NvbmZpZyDQtNC70Y8g0LLQsNC70LjQtNCw0YbQuNC4INGE0L7RgNC8XG5jb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dC1maWVsZFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX3N1Ym1pdC1idG5cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fc3VibWl0LWJ0bl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0LWZpZWxkX3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXQtZmllbGQtZXJyb3JfdmlzaWJsZVwiLFxufTtcblxuLy/QvNCw0YHRgdC40LIg0YTQvtGA0Lwg0LLQsNC70LjQtNCw0YbQuNC4XG5jb25zdCBmb3JtVmFsaWRhdG9ycyA9IHt9O1xuXG4vLyDQktC60LvRjtGH0LXQvdC40LUg0LLQsNC70LjQtNCw0YbQuNC4XG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGNvbmZpZykgPT4ge1xuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKSk7XG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XG4gICAgY29uc3QgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtRWxlbWVudCk7XG4gICAgLy8g0L/QvtC70YPRh9Cw0LXQvCDQtNCw0L3QvdGL0LUg0LjQtyDQsNGC0YDQuNCx0YPRgtCwIGBuYW1lYCDRgyDRhNC+0YDQvNGLXG4gICAgY29uc3QgZm9ybU5hbWUgPSBmb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO1xuXG4gICAgLy/QsiDQvtCx0YrQtdC60YIg0LfQsNC/0LjRgdGL0LLQsNC10Lwg0L/QvtC0INC40LzQtdC90LXQvCDRhNC+0YDQvNGLXG4gICAgZm9ybVZhbGlkYXRvcnNbZm9ybU5hbWVdID0gdmFsaWRhdG9yO1xuICAgIHZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4gIH0pO1xufTtcblxuZW5hYmxlVmFsaWRhdGlvbih2YWxpZGF0aW9uQ29uZmlnKTtcblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vL9C/0L7Qv9Cw0L8gXCLQv9C+0LTRgtCy0LXRgNC00LjRgtGMINGD0LTQsNC70LXQvdC40LVcIlxuY29uc3QgcG9wdXBDb25maXJtRGVsZXRlID0gbmV3IFBvcHVwQ29uZmlybShcIiNwb3B1cC1jb25maXJtYXRpb25cIik7XG5wb3B1cENvbmZpcm1EZWxldGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vL9GB0L7Qt9C00LDQvdC40LUg0LrQsNGA0YLQvtGH0LrQuC4gX3RlbXBsYXRlU2VsZWN0b3JDYXJkINC90LXQvtCx0YXQvtC00LjQvCDQtNC70Y8g0LLRi9Cx0L7RgNCwINGC0LjQv9CwINC/0L7QutCw0LfQsCDQutCw0YDRgtC+0YfQutC4KNCz0L7RgNC40LfQvtC90YLQsNC70YzQvdC+0LPQviDQuNC70Lgg0L/QviDRg9C80L7Qu9GH0LDQvdC40Y4pXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGRhdGFDYXJkLCBfdGVtcGxhdGVTZWxlY3RvckNhcmQpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgIGRhdGFDYXJkLFxuICAgIHVzZXIuZ2V0VXNlckluZm8oKS5pZCxcbiAgICBfdGVtcGxhdGVTZWxlY3RvckNhcmQsXG4gICAge1xuICAgICAgaGFuZGxlQ2FyZENsaWNrOiAodGl0bGVJbWFnZSwgbGlua0ltYWdlKSA9PiB7XG4gICAgICAgIGNhcmRJbWFnZVBvcHVwLm9wZW4odGl0bGVJbWFnZSwgbGlua0ltYWdlKTtcbiAgICAgIH0sXG4gICAgICBoYW5kbGVMaWtlQ2xpY2s6IChpc0FjdGl2ZUJ1dHRvbikgPT4ge1xuICAgICAgICBpZiAoaXNBY3RpdmVCdXR0b24pIHtcbiAgICAgICAgICBhcGlcbiAgICAgICAgICAgIC5zZXRMaWtlKGRhdGFDYXJkLl9pZClcbiAgICAgICAgICAgIC50aGVuKChkYXRhQ2FyZCkgPT4ge1xuICAgICAgICAgICAgICBjYXJkLnVwZGF0ZUNvdW50ZXJMaWtlcyhkYXRhQ2FyZC5saWtlcy5sZW5ndGgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhcGlcbiAgICAgICAgICAgIC5kZWxldGVMaWtlKGRhdGFDYXJkLl9pZClcbiAgICAgICAgICAgIC50aGVuKChkYXRhQ2FyZCkgPT4ge1xuICAgICAgICAgICAgICBjYXJkLnVwZGF0ZUNvdW50ZXJMaWtlcyhkYXRhQ2FyZC5saWtlcy5sZW5ndGgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGhhbmRsZVJlbW92ZUNhcmQ6IChkYXRhQ2FyZCkgPT4ge1xuICAgICAgICBwb3B1cENvbmZpcm1EZWxldGUub3Blbih7XG4gICAgICAgICAgaGFuZGxlU3VibWl0OiAoKSA9PiB7XG4gICAgICAgICAgICBhcGlcbiAgICAgICAgICAgICAgLmRlbGV0ZUNhcmQoZGF0YUNhcmQpXG4gICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjYXJkLmRlbGV0ZSgpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICAgICAgICBwb3B1cENvbmZpcm1EZWxldGUuY2xvc2UoKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH1cbiAgKTtcbiAgcmV0dXJuIGNhcmQuZ2VuZXJhdGUoKTtcbn1cblxuLy/RgdC+0LfQtNCw0L3QuNC1INGB0L/QuNGB0LrQsCDQutCw0YDRgtC+0YfQtdC6INC00LvRjyDQvtGC0L7QsdGA0LDQttC10L3QuNGPXG5jb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKFxuICB7XG4gICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgICAvL9GB0L7Qt9C00LDQvdC40LUg0LrQsNGA0YLQvtGH0LrQuFxuICAgICAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmQoaXRlbSwgdGVtcGxhdGVTZWxlY3RvckNhcmQpO1xuICAgICAgLy/QtNC+0LHQsNCy0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4XG4gICAgICBjYXJkTGlzdC5hZGRJdGVtKGNhcmQpO1xuICAgIH0sXG4gIH0sXG4gIFwiLmdhbGxlcnlfX2xpc3RcIlxuKTtcblxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0Q2FyZExpc3QoKV0pXG4gIC50aGVuKChbaW5mb0RhdGEsIGNhcmRMaXN0RGF0YV0pID0+IHtcbiAgICB1c2VyLnNldFVzZXJJbmZvKGluZm9EYXRhLm5hbWUsIGluZm9EYXRhLmFib3V0KTtcbiAgICB1c2VyLnNldEF2YXRhcihpbmZvRGF0YS5hdmF0YXIpO1xuICAgIHVzZXIuc2V0SWQoaW5mb0RhdGEuX2lkKTtcbiAgICBjYXJkTGlzdC5yZW5kZXJJdGVtcyhjYXJkTGlzdERhdGEucmV2ZXJzZSgpKTtcbiAgfSlcbiAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgIGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpO1xuICB9KTtcblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy/Qv9C+0L/QsNC/0YtcblxuLy/RgdC+0LfQtNCw0L3QuNC1INC+0LHRitC10LrRgtCwINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjFxuY29uc3QgdXNlciA9IG5ldyBVc2VySW5mbyhcbiAgXCIucHJvZmlsZV9fbmFtZVwiLFxuICBcIi5wcm9maWxlX19hYm91dFwiLFxuICBcIi5wcm9maWxlX19hdmF0YXJcIlxuKTtcblxucG9wdXBDb25maXJtRGVsZXRlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8v0YHQvtC30LTQsNC90LjQtSDQvtCx0YrQtdC60YLQsCDRhNC+0YDQvNGLINC00LvRjyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC00LDQvdC90YvRhSDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LVcbmNvbnN0IHBvcHVwUHJvZmlsZUZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIGNvbnRhaW5lclNlbGVjdG9yOiBcIiNwb3B1cC1lZGl0LWZvcm1cIixcbiAgaGFuZGxlU3VibWl0Rm9ybTogKGZvcm1EYXRhKSA9PiB7XG4gICAgcG9wdXBQcm9maWxlRm9ybS5yZW5kZXJMb2FkaW5nKFwi0J7QsdC90L7QstC70LXQvdC40LUuLi5cIik7XG4gICAgYXBpXG4gICAgICAudXBkYXRlVXNlckluZm8oZm9ybURhdGFbXCJ1c2VyLW5hbWVcIl0sIGZvcm1EYXRhW1widXNlci1hYm91dFwiXSlcbiAgICAgIC50aGVuKCh1c2VyRGF0YSkgPT4ge1xuICAgICAgICB1c2VyLnNldFVzZXJJbmZvKHVzZXJEYXRhLm5hbWUsIHVzZXJEYXRhLmFib3V0KTtcbiAgICAgICAgcG9wdXBQcm9maWxlRm9ybS5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBwb3B1cFByb2ZpbGVGb3JtLnJlbmRlckxvYWRpbmcoXCLQodC+0YXRgNCw0L3QuNGC0YxcIik7XG4gICAgICB9KTtcbiAgfSxcbn0pO1xuXG4vL9C+0LHRgNCw0LHQvtGC0LjRh9C40Log0YHQvtCx0YvRgtC40Lkg0LTQu9GPINGE0L7RgNC80YtcbnBvcHVwUHJvZmlsZUZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy/QvtCx0YDQsNCx0L7RgtGH0LjQuiDRgdC+0LHRi9GC0LjRjyDQvdCw0LbQsNGC0LjQtSDQvdCwINC60L3QvtC/0LrRgyDRgNC10LTQsNC60YLQuNGA0L7QstCw0YLRjCDQtNCw0L3QvdGL0LVcbmVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgY29uc3QgeyBuYW1lLCBhYm91dCB9ID0gdXNlci5nZXRVc2VySW5mbygpO1xuICBwb3B1cFByb2ZpbGVGb3JtLnNldElucHV0VmFsdWVzKHsgXCJ1c2VyLW5hbWVcIjogbmFtZSwgXCJ1c2VyLWFib3V0XCI6IGFib3V0IH0pO1xuICBwb3B1cFByb2ZpbGVGb3JtLm9wZW4oKTtcbiAgZm9ybVZhbGlkYXRvcnNbXCJlZGl0LWZvcm1cIl0ucmVzZXRWYWxpZGF0aW9uKCk7XG59KTtcblxuLy/QvtCx0YrQtdC60YIg0L/QvtC/0LDQvyDQtNC70Y8g0L7QsdC90L7QstC70LXQvdC40Y8g0LDQstCw0YLQsNGA0LBcbmNvbnN0IHBvcHVwQXZhdGFyRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgY29udGFpbmVyU2VsZWN0b3I6IFwiI3BvcHVwLXVwZGF0ZS1hdmF0YXJcIixcbiAgaGFuZGxlU3VibWl0Rm9ybTogKGZvcm1EYXRhKSA9PiB7XG4gICAgcG9wdXBBdmF0YXJGb3JtLnJlbmRlckxvYWRpbmcoXCLQntCx0L3QvtCy0LvQtdC90LjQtSDQsNCy0LDRgtCw0YDQsC4uLlwiKTtcbiAgICBhcGlcbiAgICAgIC51cGRhdGVBdmF0YXIoZm9ybURhdGFbXCJpbnB1dC1saW5rLW9uLWF2YXRhclwiXSlcbiAgICAgIC50aGVuKCh1c2VyRGF0YSkgPT4ge1xuICAgICAgICB1c2VyLnNldEF2YXRhcih1c2VyRGF0YS5hdmF0YXIpO1xuICAgICAgICBwb3B1cEF2YXRhckZvcm0uY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgcG9wdXBBdmF0YXJGb3JtLnJlbmRlckxvYWRpbmcoXCLQodC+0YXRgNCw0L3QuNGC0YxcIik7XG4gICAgICB9KTtcbiAgfSxcbn0pO1xuXG5wb3B1cEF2YXRhckZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy/QvtCx0YDQsNCx0L7RgtGH0LjQuiDRgdC+0LHRi9GC0LjRjyDQvdCw0LbQsNGC0LjQtSDQvdCwINC60L3QvtC/0LrRgyDQv9C+0LzQtdC90Y/RgtGMINCw0LLQsNGC0LDRgFxudXBkYXRlQXZhdGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHBvcHVwQXZhdGFyRm9ybS5vcGVuKCk7XG4gIGZvcm1WYWxpZGF0b3JzW1widXBkYXRlLWF2YXRhci1mb3JtXCJdLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG5cbi8v0L7QsdGK0LXQutGCINGE0L7RgNC80Ysg0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxuY29uc3QgcG9wdXBBZGRDYXJkRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgY29udGFpbmVyU2VsZWN0b3I6IFwiI3BvcHVwLWFkZC1mb3JtXCIsXG4gIGhhbmRsZVN1Ym1pdEZvcm06IChkYXRhKSA9PiB7XG4gICAgcG9wdXBBZGRDYXJkRm9ybS5yZW5kZXJMb2FkaW5nKFwi0KHQvtGF0YDQsNC90LXQvdC40LUuLi5cIik7XG4gICAgYXBpXG4gICAgICAuc2VudENhcmQoZGF0YSlcbiAgICAgIC50aGVuKChkYXRhQ2FyZCkgPT4ge1xuICAgICAgICBjYXJkTGlzdC5hZGRJdGVtKGNyZWF0ZUNhcmQoZGF0YUNhcmQsIHRlbXBsYXRlU2VsZWN0b3JDYXJkKSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAvL9C90LUg0LfQsNC60YDRi9Cy0LDRgtGMINC/0L7Qv9Cw0L8sINC/0L7QutCwINC60LDRgNGC0LjQvdC60LAg0L3QtSDQt9Cw0LPRgNGD0LfQuNGC0YHRj1xuICAgICAgICBjb25zdCBsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19saXN0XCIpO1xuICAgICAgICBjb25zdCBsb2FkaW5nQ2FyZCA9XG4gICAgICAgICAgbGlzdC5maXJzdEVsZW1lbnRDaGlsZC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuICAgICAgICBsb2FkaW5nQ2FyZC5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcG9wdXBBZGRDYXJkRm9ybS5jbG9zZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgcG9wdXBBZGRDYXJkRm9ybS5yZW5kZXJMb2FkaW5nKFwi0KHQvtC30LTQsNGC0YxcIik7XG4gICAgICB9KTtcbiAgfSxcbn0pO1xuXG4vL9GD0YHRgtCw0L3QvtCy0LjRgtGMINGB0LvRg9GI0LDRgtC10LvQuCDRgdC+0LHRi9GC0LjQuSDQvdCwXG5wb3B1cEFkZENhcmRGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8v0L7QsdGA0LDQsdC+0YLRh9C40Log0YHQvtCx0YvRgtC40Y8g0L3QsNC20LDRgtC40LUg0L3QsCDQutC90L7Qv9C60YMg0LTQvtCx0LDQstC40YLRjCDQutCw0YDRgtC+0YfQutGDXG5hZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgcG9wdXBBZGRDYXJkRm9ybS5vcGVuKCk7XG4gIGZvcm1WYWxpZGF0b3JzW1wiYWRkLWZvcm1cIl0ucmVzZXRWYWxpZGF0aW9uKCk7XG59KTtcblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIl0sIm5hbWVzIjpbInRlbXBsYXRlU2VsZWN0b3JDYXJkIiwiQ2FyZCIsImRhdGEiLCJpZE93bmVyIiwidGVtcGxhdGVTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZVJlbW92ZUNhcmQiLCJoYW5kbGVMaWtlQ2xpY2siLCJ0aGlzIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2xpa2VzIiwibGlrZXMiLCJfaWQiLCJfb3duZXIiLCJvd25lciIsIl9pZE93bmVyIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsIl9oYW5kbGVSZW1vdmVDYXJkIiwiX3JlbW92ZSIsImJpbmQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2xpa2VCdXR0b24iLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJfZWxlbWVudCIsInJlbW92ZSIsImNvdW50ZXIiLCJ0ZXh0Q29udGVudCIsImZvckVhY2giLCJ1c2VyIiwiYWRkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl90b2dnbGVMaWtlIiwiaXNBY3RpdmVMaWtlIiwiY29udGFpbnMiLCJfY2FyZEltYWdlIiwiX2RlbGV0ZUJ1dHRvbiIsIl9nZXRUZW1wbGF0ZSIsInNyYyIsImFsdCIsInVwZGF0ZUNvdW50ZXJMaWtlcyIsImxlbmd0aCIsIl9yZW5kZXJUcmFzaEljb24iLCJfcmVuZGVyTGlrZUljb24iLCJfc2V0RXZlbnRMaXN0ZW5lciIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtVmFsaWRhdGUiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybVZhbGlkYXRlIiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfc3VibWl0QnV0dG9uRWxlbWVudCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImlucHV0RWxlbWVudCIsIl9oaWRlSW5wdXRFcnJvciIsImVycm9yRWxlbWVudCIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX3Nob3dJbnB1dEVycm9yIiwic29tZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlZCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJQb3B1cCIsImNvbnRhaW5lclNlbGVjdG9yIiwiX2hhbmRsZUVzY0Nsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImtleSIsImNsb3NlIiwidGFyZ2V0IiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZVN1Ym1pdEZvcm0iLCJfaGFuZGxlU3VibWl0Rm9ybSIsIl9mb3JtIiwiX2Zvcm1WYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwidGV4dCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlBvcHVwV2l0aEltYWdlIiwiX2ltYWdlIiwiX2ZpZ2NhcHRpb24iLCJ0aXRsZUltYWdlIiwibGlua0ltYWdlIiwiU2VjdGlvbiIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiaXRlbSIsInByZXBlbmQiLCJpbm5lckhUTUwiLCJpdGVtTGlzdCIsImNsZWFyIiwiVXNlckluZm8iLCJ1c2VyTmFtZVNlbGVjdG9yIiwidXNlckFib3V0U2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl91c2VyTmFtZSIsIl91c2VyQWJvdXQiLCJfYXZhdGFyIiwiYWJvdXQiLCJ1c2VyTmFtZSIsInVzZXJBYm91dCIsImF2YXRhciIsIkFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwicmVzcG9uc2UiLCJlcnJvck1lc3NhZ2UiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0IiwiRXJyb3IiLCJyZXMiLCJzdGF0dXMiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidGhlbiIsIl9oYW5kbGVSZXNwb25zZSIsImNhcmRJZCIsInBvcHVwQ29uZmlybSIsIl9oYW5kbGVTdWJtaXQiLCJ1bmRlZmluZWQiLCJoYW5kbGVTdWJtaXQiLCJidG4iLCJhcGkiLCJBdXRob3JpemF0aW9uIiwiZWRpdEJ1dHRvbiIsImFkZEJ1dHRvbiIsInVwZGF0ZUF2YXRhckJ1dHRvbiIsImNhcmRJbWFnZVBvcHVwIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJmb3JtVmFsaWRhdG9ycyIsImZvcm1TZWxlY3RvciIsImZvcm1FbGVtZW50IiwidmFsaWRhdG9yIiwiZm9ybU5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJlbmFibGVWYWxpZGF0aW9uIiwicG9wdXBDb25maXJtRGVsZXRlIiwiUG9wdXBDb25maXJtIiwiY3JlYXRlQ2FyZCIsImRhdGFDYXJkIiwiX3RlbXBsYXRlU2VsZWN0b3JDYXJkIiwiY2FyZCIsImdldFVzZXJJbmZvIiwib3BlbiIsImlzQWN0aXZlQnV0dG9uIiwic2V0TGlrZSIsImNhdGNoIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwibWVzc2FnZSIsImRlbGV0ZUxpa2UiLCJkZWxldGVDYXJkIiwiZGVsZXRlIiwiZmluYWxseSIsImdlbmVyYXRlIiwiY2FyZExpc3QiLCJhZGRJdGVtIiwiYWxsIiwiZ2V0Q2FyZExpc3QiLCJpbmZvRGF0YSIsImNhcmRMaXN0RGF0YSIsInNldFVzZXJJbmZvIiwic2V0QXZhdGFyIiwic2V0SWQiLCJyZW5kZXJJdGVtcyIsInJldmVyc2UiLCJwb3B1cFByb2ZpbGVGb3JtIiwiZm9ybURhdGEiLCJyZW5kZXJMb2FkaW5nIiwidXBkYXRlVXNlckluZm8iLCJ1c2VyRGF0YSIsInNldElucHV0VmFsdWVzIiwicmVzZXRWYWxpZGF0aW9uIiwicG9wdXBBdmF0YXJGb3JtIiwidXBkYXRlQXZhdGFyIiwicG9wdXBBZGRDYXJkRm9ybSIsInNlbnRDYXJkIiwiZmlyc3RFbGVtZW50Q2hpbGQiXSwic291cmNlUm9vdCI6IiJ9