(()=>{"use strict";var e="#cards-list-template";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}var r=function(){function e(t,n,r,o){var i=o.handleCardClick,a=o.handleRemoveCard,u=o.handleLikeClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._likes=t.likes,this._id=t._id,this._owner=t.owner,this._idOwner=n,this._templateSelector=r,this._handleCardClick=i,this._handleLikeClick=u,this._handleRemoveCard=a,this._remove=this._remove.bind(this)}var t,r;return t=e,r=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".card").cloneNode(!0)}},{key:"_toggleLike",value:function(){this._likeButton.classList.toggle("card__like_active")}},{key:"_remove",value:function(){this._handleRemoveCard(this._id)}},{key:"delete",value:function(){this._element.remove(),this._element=null}},{key:"updateCounterLikes",value:function(e){this._element.querySelector(".card__like-counter").textContent=e>0?e:""}},{key:"_renderLikeIcon",value:function(){var e=this;this._likes.forEach((function(t){e._idOwner===t._id&&e._element.querySelector(".card__like").classList.add("card__like_active")}))}},{key:"_setEventListener",value:function(){var e=this;this._likeButton.addEventListener("click",(function(){e._toggleLike();var t=e._likeButton.classList.contains("card__like_active");e._handleLikeClick(t)})),this._cardImage.addEventListener("click",(function(){e._handleCardClick(e._name,e._link)}))}},{key:"getCard",value:function(){return this}},{key:"_renderTrashIcon",value:function(){var e=this;this._idOwner===this._owner._id&&(this._deleteButton=this._element.querySelector(".card__delete"),this._deleteButton.classList.add("card__delete_active"),this._deleteButton.addEventListener("click",(function(){e._handleRemoveCard(e._id)})))}},{key:"generate",value:function(){return this._element=this._getTemplate(),this._likeButton=this._element.querySelector(".card__like"),this._cardImage=this._element.querySelector(".card__image"),this._element.querySelector(".card__title").textContent=this._name,this._cardImage.src=this._link,this._cardImage.alt="Фото пользователя "+this._name,this.updateCounterLikes(this._likes.length),this._renderTrashIcon(),this._renderLikeIcon(),this._setEventListener(),this._element}}],r&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===o(i)?i:String(i)),r)}var i}var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formValidate=n,this._inputList=Array.from(this._formValidate.querySelectorAll(this._inputSelector)),this._submitButtonElement=this._formValidate.querySelector(this._submitButtonSelector)}var t,n;return t=e,(n=[{key:"resetValidation",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"_hideInputError",value:function(e){var t=this._formValidate.querySelector(".".concat(e.id,"-error"));t.classList.remove(this._errorClass),t.textContent="",e.classList.remove(this._inputErrorClass)}},{key:"_showInputError",value:function(e){var t=this._formValidate.querySelector(".".concat(e.id,"-error"));t.classList.add(this._errorClass),t.textContent=e.validationMessage,e.classList.add(this._inputErrorClass)}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput(this._inputList)?(this._submitButtonElement.classList.add(this._inactiveButtonClass),this._submitButtonElement.disabled=!0):(this._submitButtonElement.classList.remove(this._inactiveButtonClass),this._submitButtonElement.disabled=!1)}},{key:"_setEventListener",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t),t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListener()}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===u(o)?o:String(o)),r)}var o}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._element=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){document.addEventListener("keydown",this._handleEscClose),this._element.classList.add("popup_opened")}},{key:"close",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._element.classList.remove("popup_opened")}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._element.querySelector(".popup__close-btn").addEventListener("click",(function(){return e.close()})),this._element.addEventListener("mousedown",(function(t){t.target.classList.contains("popup")&&e.close()}))}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===s(o)?o:String(o)),r)}var o}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},p.apply(this,arguments)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(o){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var t,n=e.containerSelector,r=e.handleSubmitForm;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._handleSubmitForm=r,t._form=t._element.querySelector(".popup__form"),t._inputList=t._element.querySelectorAll(".popup__input-field"),t}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setInputValues",value:function(e){this._inputList.forEach((function(t){t.value=e[t.name]}))}},{key:"renderLoading",value:function(e){this._form.querySelector(".popup__submit-btn").textContent=e}},{key:"setEventListeners",value:function(){var e=this;p(h(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleSubmitForm(e._getInputValues()),e.close()}))}},{key:"close",value:function(){this._form.reset(),p(h(a.prototype),"close",this).call(this)}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===m(o)?o:String(o)),r)}var o}function b(){return b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},b.apply(this,arguments)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(r);if(o){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._image=t._element.querySelector(".popup__image"),t._figcaption=t._element.querySelector(".popup__figcaption"),t}return t=a,(n=[{key:"open",value:function(e,t){this._image.src=t,this._figcaption.textContent=e,this._image.alt="Пользовательское описание - ".concat(e,"."),b(g(a.prototype),"open",this).call(this)}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==k(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===k(o)?o:String(o)),r)}var o}var E=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._element=document.querySelector(n)}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._element.prepend(e)}},{key:"clear",value:function(){this._element.innerHTML=""}},{key:"renderItems",value:function(e){var t=this;this.clear(),e.forEach((function(e){t._renderer(e)}))}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===O(o)?o:String(o)),r)}var o}var j=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=document.querySelector(t),this._userAbout=document.querySelector(n),this._avatar=document.querySelector(r),this._avatar.alt="Аватар"}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._userName.textContent,about:this._userAbout.textContent,id:this._id}}},{key:"setUserInfo",value:function(e,t){this._userName.textContent=e,this._userAbout.textContent=t}},{key:"setAvatar",value:function(e){this._avatar.src=e}},{key:"setId",value:function(e){this._id=e}}])&&L(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===C(o)?o:String(o)),r)}var o}var I=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl=t.baseUrl,this.headers=t.headers}var t,n;return t=e,(n=[{key:"_handleResponse",value:function(e,t){return e.ok?e.json():Promise.reject(new Error("Ошибка: ".concat(res.status,". Сообщение об ошибке: ").concat(t)))}},{key:"sentCard",value:function(e){var t=this,n=e.name,r=e.link;return fetch("".concat(this.baseUrl,"/cards"),{headers:this.headers,method:"POST",body:JSON.stringify({name:n,link:r})}).then((function(e){return t._handleResponse(e,"Данные добавленной карты не были успешно получены сервером")}))}},{key:"updateUserInfo",value:function(e,t){var n=this;return fetch("".concat(this.baseUrl,"/users/me"),{headers:this.headers,method:"PATCH",body:JSON.stringify({name:e,about:t})}).then((function(e){return n._handleResponse(e,"Данные о пользователе не были успешно обновлены на сервере")}))}},{key:"updateAvatar",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/users/me/avatar"),{headers:this.headers,method:"PATCH",body:JSON.stringify({avatar:e})}).then((function(e){return t._handleResponse(e,"Фото аватара не было успешно обновлено на сервере")}))}},{key:"getUserInfo",value:function(){var e=this;return fetch("".concat(this.baseUrl,"/users/me"),{headers:this.headers,method:"GET"}).then((function(t){return e._handleResponse(t,"Данные о пользователе не были успешно получены")}))}},{key:"setLike",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/cards/").concat(e,"/likes"),{headers:this.headers,method:"PUT"}).then((function(e){return t._handleResponse(e,"Данные о добавлении лайка карточке от попользователе не были успешно обновлены на сервере")}))}},{key:"deleteLike",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/cards/").concat(e,"/likes"),{headers:this.headers,method:"DELETE"}).then((function(e){return t._handleResponse(e,"Данные об удалении лайка карточке от попользователе не были успешно обновлены на сервере")}))}},{key:"deleteCard",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/cards/").concat(e),{headers:this.headers,method:"DELETE"}).then((function(e){return t._handleResponse(e,"Данные о карточке попользователе не были успешно удалены на сервере")}))}},{key:"getCardList",value:function(){var e=this;return fetch("".concat(this.baseUrl,"/cards"),{headers:this.headers,method:"GET"}).then((function(t){return e._handleResponse(t,"Данные о списке карт не были успешно получены")}))}}])&&P(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==R(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===R(o)?o:String(o)),r)}var o}function q(){return q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},q.apply(this,arguments)}function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=A(r);if(o){var n=A(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._form=t._element.querySelector(".popup__form"),t._handleSubmit=void 0,t}return t=a,(n=[{key:"open",value:function(e){var t=e.handleSubmit;q(A(a.prototype),"open",this).call(this),this._handleSubmit=t}},{key:"close",value:function(){q(A(a.prototype),"close",this).call(this),this._handleSubmit=void 0}},{key:"setEventListeners",value:function(){var e=this;q(A(a.prototype),"setEventListeners",this).call(this),this.btn=document.querySelector(".popup__submit-btn"),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleSubmit()}))}}])&&T(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l);function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=new I({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-60",headers:{Authorization:"615ec7c0-c05d-4e3c-8fba-c9ef3b1c5572","Content-Type":"application/json"}}),D=document.querySelector(".profile__edit-button"),N=document.querySelector(".profile__add-button"),F=document.querySelector(".profile__avatar-button"),H=new S("#popup-open-img");H.setEventListeners();var J,M={};J={formSelector:".popup__form",inputSelector:".popup__input-field",submitButtonSelector:".popup__submit-btn",inactiveButtonClass:"popup__submit-btn_disabled",inputErrorClass:"popup__input-field_type_error",errorClass:"popup__input-field-error_visible"},Array.from(document.querySelectorAll(J.formSelector)).forEach((function(e){var t=new a(J,e),n=e.getAttribute("name");M[n]=t,t.enableValidation()}));var G=new U("#popup-confirmation");function z(e,t){var n=new r(e,K.getUserInfo().id,t,{handleCardClick:function(e,t){H.open(e,t)},handleLikeClick:function(t){t?x.setLike(e._id).then((function(e){n.updateCounterLikes(e.likes.length)})).catch((function(e){console.log(e.message)})):x.deleteLike(e._id).then((function(e){n.updateCounterLikes(e.likes.length)})).catch((function(e){console.log(e.message)}))},handleRemoveCard:function(e){G.open({handleSubmit:function(){x.deleteCard(e).then((function(){n.delete()})).catch((function(e){console.log(e.message)})).finally((function(){G.close()}))}})}});return n.generate()}G.setEventListeners();var $=new E({renderer:function(t){var n=z(t,e);$.addItem(n)}},".gallery__list");Promise.all([x.getUserInfo(),x.getCardList()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,n)||function(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];K.setUserInfo(o.name,o.about),K.setAvatar(o.avatar),K.setId(o._id),$.renderItems(i.reverse())})).catch((function(e){console.log(e.message)}));var K=new j(".profile__name",".profile__about",".profile__avatar");G.setEventListeners();var Q=new d({containerSelector:"#popup-edit-form",handleSubmitForm:function(e){Q.renderLoading("Обновление..."),x.updateUserInfo(e["user-name"],e["user-about"]).then((function(e){K.setUserInfo(e.name,e.about),Q.close()})).catch((function(e){console.log(e.message)})).finally((function(){Q.renderLoading("Сохранить")}))}});Q.setEventListeners(),D.addEventListener("click",(function(){var e=K.getUserInfo(),t=e.name,n=e.about;Q.setInputValues({"user-name":t,"user-about":n}),Q.open(),M["edit-form"].resetValidation()}));var W=new d({containerSelector:"#popup-update-avatar",handleSubmitForm:function(e){W.renderLoading("Обновление аватара..."),x.updateAvatar(e["input-link-on-avatar"]).then((function(e){K.setAvatar(e.avatar),W.close()})).catch((function(e){console.log(e.message)})).finally((function(){W.renderLoading("Сохранить")}))}});W.setEventListeners(),F.addEventListener("click",(function(){W.open(),M["update-avatar-form"].resetValidation()}));var X=new d({containerSelector:"#popup-add-form",handleSubmitForm:function(t){X.renderLoading("Сохранение..."),x.sentCard(t).then((function(t){$.addItem(z(t,e))})).then((function(){document.querySelector(".gallery__list").firstElementChild.querySelector(".card__image").addEventListener("load",(function(){X.close()}))})).catch((function(e){console.log(e.message)})).finally((function(){X.renderLoading("Создать")}))}});X.setEventListeners(),N.addEventListener("click",(function(){X.open(),M["add-form"].resetValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YyxDQUN4Q1Asa0JBQW1CLHVCQUNuQlEsaUJBQWtCLFNBQUMwRyxHQUNqQk0sRUFBZ0JMLGNBQWMseUJBQzlCL0MsRUFDR3FELGFBQWFQLEVBQVMseUJBQ3RCdEQsTUFBSyxTQUFDeUQsR0FDTHRLLEVBQUs4SixVQUFVUSxFQUFTM0UsUUFDeEI4RSxFQUFnQm5ILE9BQ2xCLElBQ0N1RixPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUlGLEVBQU1HLFFBQ3BCLElBQ0NJLFNBQVEsV0FDUG9CLEVBQWdCTCxjQUFjLFlBQ2hDLEdBQ0osSUFHRkssRUFBZ0I5QyxvQkFHaEJGLEVBQW1CdkgsaUJBQWlCLFNBQVMsV0FDM0N1SyxFQUFnQi9CLE9BQ2hCZCxFQUFlLHNCQUFzQjRDLGlCQUN2QyxJQUdBLElBQU1HLEVBQW1CLElBQUluSCxFQUFjLENBQ3pDUCxrQkFBbUIsa0JBQ25CUSxpQkFBa0IsU0FBQzVGLEdBQ2pCOE0sRUFBaUJQLGNBQWMsaUJBQy9CL0MsRUFDR3VELFNBQVMvTSxHQUNUZ0osTUFBSyxTQUFDeUIsR0FDTGlCLEVBQVNDLFFBQVFuQixFQUFXQyxFQUFVM0ssR0FDeEMsSUFDQ2tKLE1BQUssV0FFU3pILFNBQVNDLGNBQWMsa0JBRTdCd0wsa0JBQWtCeEwsY0FBYyxnQkFDM0JhLGlCQUFpQixRQUFRLFdBQ25DeUssRUFBaUJySCxPQUNuQixHQUNGLElBQ0N1RixPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUlGLEVBQU1HLFFBQ3BCLElBQ0NJLFNBQVEsV0FDUHNCLEVBQWlCUCxjQUFjLFVBQ2pDLEdBQ0osSUFJRk8sRUFBaUJoRCxvQkFHakJILEVBQVV0SCxpQkFBaUIsU0FBUyxXQUNsQ3lLLEVBQWlCakMsT0FDakJkLEVBQWUsWUFBWTRDLGlCQUM3QixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwQ29uZmlybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gIHtcclxuICAgIG5hbWU6IFwi0JDRgNGF0YvQt1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYXJraHl6LmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCLQp9C10LvRj9Cx0LjQvdGB0LrQsNGPINC+0LHQu9Cw0YHRgtGMXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9jaGVseWFiaW5zay1vYmxhc3QuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcItCY0LLQsNC90L7QstC+XCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9pdmFub3ZvLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCLQmtCw0LzRh9Cw0YLQutCwXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9rYW1jaGF0a2EuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcItCl0L7Qu9C80L7Qs9C+0YDRgdC60LjQuSDRgNCw0LnQvtC9XCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9raG9sbW9nb3Jza3ktcmF5b24uanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcItCR0LDQudC60LDQu1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYmFpa2FsLmpwZ1wiLFxyXG4gIH0sXHJcbl07XHJcblxyXG5leHBvcnQgY29uc3QgdGVtcGxhdGVTZWxlY3RvckNhcmQgPSBcIiNjYXJkcy1saXN0LXRlbXBsYXRlXCI7XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgZGF0YSxcclxuICAgIGlkT3duZXIsXHJcbiAgICB0ZW1wbGF0ZVNlbGVjdG9yLFxyXG4gICAgeyBoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZVJlbW92ZUNhcmQsIGhhbmRsZUxpa2VDbGljayB9XHJcbiAgKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcclxuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XHJcbiAgICB0aGlzLl9vd25lciA9IGRhdGEub3duZXI7XHJcbiAgICB0aGlzLl9pZE93bmVyID0gaWRPd25lcjtcclxuICAgIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yO1xyXG4gICAgLy/RhNGD0L3QutGG0LjRjyDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDRgSDQutCw0YDRgtC40L3QutC+0Lkg0L/QviDQutC70LjQutGDINC90LAg0LrQsNGA0YLQvtGH0LrRg1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlUmVtb3ZlQ2FyZCA9IGhhbmRsZVJlbW92ZUNhcmQ7XHJcbiAgICB0aGlzLl9yZW1vdmUgPSB0aGlzLl9yZW1vdmUuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgLy/RhNGD0L3QutGG0LjRjyDQvtCx0YDQsNCx0L7RgtGH0LjQutCwINC90LDQttCw0YLQuNGPINC90LAg0LvQsNC50Log0LrQsNGA0YLQvtGH0LrQuFxyXG4gIF90b2dnbGVMaWtlKCkge1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZV9hY3RpdmVcIik7XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlKCkge1xyXG4gICAgdGhpcy5faGFuZGxlUmVtb3ZlQ2FyZCh0aGlzLl9pZCk7XHJcbiAgfVxyXG5cclxuICBkZWxldGUoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XHJcbiAgfVxyXG5cclxuICAvL9C+0LHQvdC+0LLQuNGC0Ywg0LrQvtC70LjRh9C10YHRgtCy0L4g0LvQsNC50LrQvtCyXHJcbiAgdXBkYXRlQ291bnRlckxpa2VzKGNvdW50ZXIpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWNvdW50ZXJcIikudGV4dENvbnRlbnQgPVxyXG4gICAgICBjb3VudGVyID4gMCA/IGNvdW50ZXIgOiBcIlwiO1xyXG4gIH1cclxuXHJcbiAgLy/QvtGC0YDQuNGB0L7QstC60LAg0LvQsNC50LrQvtCyINGDINGC0LXRhSDQutCw0YDRgtC+0YfQtdC6LCDQutC+0YLQvtGA0YvQtSDQv9C+0L3RgNCw0LLQuNC70LjRgdGMINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjlxyXG4gIF9yZW5kZXJMaWtlSWNvbigpIHtcclxuICAgIHRoaXMuX2xpa2VzLmZvckVhY2goKHVzZXIpID0+IHtcclxuICAgICAgaWYgKHRoaXMuX2lkT3duZXIgPT09IHVzZXIuX2lkKSB7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudFxyXG4gICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZVwiKVxyXG4gICAgICAgICAgLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlX2FjdGl2ZVwiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcigpIHtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5fdG9nZ2xlTGlrZSgpO1xyXG4gICAgICBjb25zdCBpc0FjdGl2ZUxpa2UgPVxyXG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2FyZF9fbGlrZV9hY3RpdmVcIik7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayhpc0FjdGl2ZUxpa2UpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXRDYXJkKCkge1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvL9C+0YLRgNC40YHQvtCy0LDRgtGMINC40LrQvtC90LrRgyBcItGD0LTQsNC70LjRgtGMXCIg0YLQvtC70YzQutC+INGDINC60LDRgNGC0L7Rh9C10Log0LLQu9Cw0LTQtdC70YzRhtCwXHJcbiAgX3JlbmRlclRyYXNoSWNvbigpIHtcclxuICAgIGlmICh0aGlzLl9pZE93bmVyID09PSB0aGlzLl9vd25lci5faWQpIHtcclxuICAgICAgdGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZVwiKTtcclxuICAgICAgdGhpcy5fZGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19kZWxldGVfYWN0aXZlXCIpO1xyXG4gICAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVSZW1vdmVDYXJkKHRoaXMuX2lkKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZSgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlXCIpO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG5cclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcblxyXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gXCLQpNC+0YLQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8gXCIgKyB0aGlzLl9uYW1lO1xyXG5cclxuICAgIHRoaXMudXBkYXRlQ291bnRlckxpa2VzKHRoaXMuX2xpa2VzLmxlbmd0aCk7XHJcbiAgICB0aGlzLl9yZW5kZXJUcmFzaEljb24oKTtcclxuICAgIHRoaXMuX3JlbmRlckxpa2VJY29uKCk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVyKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybVZhbGlkYXRlKSB7XHJcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gY29uZmlnLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGNvbmZpZy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gY29uZmlnLmVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9mb3JtVmFsaWRhdGUgPSBmb3JtVmFsaWRhdGU7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgICB0aGlzLl9mb3JtVmFsaWRhdGUucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtVmFsaWRhdGUucXVlcnlTZWxlY3RvcihcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3JcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG5cclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy/RgdC60YDRi9GC0Ywg0YHQvtC+0LHRidC10L3QuNC1INC+0LEg0L7RiNC40LHQutC1XHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybVZhbGlkYXRlLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuXHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgLy/Qv9C+0LrQsNC30LDRgtGMINGB0L7QvtCx0YnQtdC90LjQtSDQvtCxINC+0YjQuNCx0LrQtVxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1WYWxpZGF0ZS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcblxyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgLy8g0L/RgNC+0LLQtdGA0LrQsCDRgyDQuNC90L/Rg9GC0L7QsiDQvdCwINGB0LLQvtC50YHRgtCy0L4gdmFsaWRpdHlcclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xyXG4gICAgaWYgKGlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8v0L/RgNC+0LLQtdGA0LrQsCDQvdCwINCy0LDQu9C40LTQvdC+0YHRgtGMINCy0YHQtdGFINC/0L7Qu9C10Lkg0LIg0YTQvtGA0LzQtVxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCk7XHJcbiAgfVxyXG5cclxuICAvL9C/0LXRgNC10LrQu9GO0YfQuNGC0Ywg0YHQvtGB0YLQvtGP0L3QuNC1INC60L3QvtC/0LrQuCDQvdCwINCw0LrRgtC40LLQvdC+0LUv0L3QtdCw0LrRgtC40LLQvdC+0LVcclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0TGlzdCkpIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy/QvtCx0YDQsNCx0L7RgtGH0LjQuiDRgdC+0LHRi9GC0LjRjyDQuNC90L/Rg9GCINC00LvRjyDQstGB0LXRhSDRhNC+0YDQvFxyXG4gIF9zZXRFdmVudExpc3RlbmVyKCkge1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcigpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgY29uc3QgY2xvc2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlLWJ0blwiKTtcclxuICAgIC8vINGD0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdC8INC+0LHRgNCw0LHQvtGC0YfQuNC6INC30LDQutGA0YvRgtC40Y8g0L3QsCDQutGA0LXRgdGC0LjQulxyXG4gICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuY2xvc2UoKSk7XHJcblxyXG4gICAgLy/QtNC+0LHQsNCy0LjRgtGMINC+0LHRgNCw0LHQvtGC0YfQuNC6INC00LvRjyDQt9Cw0LrRgNGL0YLQuNGPINC/0L4gb3ZlcmxheVxyXG4gICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChldnQpID0+IHtcclxuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBcIikpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBjb250YWluZXJTZWxlY3RvciwgaGFuZGxlU3VibWl0Rm9ybSB9KSB7XHJcbiAgICBzdXBlcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXRGb3JtID0gaGFuZGxlU3VibWl0Rm9ybTtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XHJcbiAgICAvLyDRgdC/0LjRgdC+0Log0LLRgdC10YUg0Y3Qu9C10LzQtdC90YLQvtCyINC/0L7Qu9C10LlcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXQtZmllbGRcIik7XHJcbiAgfVxyXG5cclxuICAvL9GB0L7QsdGA0LDRgtGMINC00LDQvdC90YvQtSDQstGB0LXRhSDQv9C+0LvQtdC5INGE0L7RgNC80YtcclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICAvLyDRgdC+0LfQtNCw0ZHQvCDQv9GD0YHRgtC+0Lkg0L7QsdGK0LXQutGCXHJcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XHJcblxyXG4gICAgLy8g0LTQvtCx0LDQstC70Y/QtdC8INCyINGN0YLQvtGCINC+0LHRitC10LrRgiDQt9C90LDRh9C10L3QuNGPINCy0YHQtdGFINC/0L7Qu9C10LlcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyDQstC+0LfQstGA0LDRidCw0LXQvCDQvtCx0YrQtdC60YIg0LfQvdCw0YfQtdC90LjQuVxyXG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XHJcbiAgfVxyXG5cclxuICAvL9C30LDQv9C+0LvQvdC40YLRjCDQv9C+0LvRjyDRhNC+0YDQvNGLINC00LDQvdC90YvQvNC4XHJcbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyTG9hZGluZyh0ZXh0KSB7XHJcbiAgICB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3N1Ym1pdC1idG5cIikudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldmVudCkgPT4ge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXRGb3JtKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fZmlnY2FwdGlvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZmlnY2FwdGlvblwiKTtcclxuICB9XHJcblxyXG4gIG9wZW4odGl0bGVJbWFnZSwgbGlua0ltYWdlKSB7XHJcbiAgICB0aGlzLl9pbWFnZS5zcmMgPSBsaW5rSW1hZ2U7XHJcbiAgICB0aGlzLl9maWdjYXB0aW9uLnRleHRDb250ZW50ID0gdGl0bGVJbWFnZTtcclxuICAgIHRoaXMuX2ltYWdlLmFsdCA9IGDQn9C+0LvRjNC30L7QstCw0YLQtdC70YzRgdC60L7QtSDQvtC/0LjRgdCw0L3QuNC1IC0gJHt0aXRsZUltYWdlfS5gO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShpdGVtKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnByZXBlbmQoaXRlbSk7XHJcbiAgfVxyXG5cclxuICBjbGVhcigpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQuaW5uZXJIVE1MID0gXCJcIjtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKGl0ZW1MaXN0KSB7XHJcbiAgICB0aGlzLmNsZWFyKCk7XHJcblxyXG4gICAgaXRlbUxpc3QuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IodXNlck5hbWVTZWxlY3RvciwgdXNlckFib3V0U2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl91c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlck5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl91c2VyQWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJBYm91dFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fYXZhdGFyLmFsdCA9IFwi0JDQstCw0YLQsNGAXCI7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50LFxyXG4gICAgICBhYm91dDogdGhpcy5fdXNlckFib3V0LnRleHRDb250ZW50LFxyXG4gICAgICBpZDogdGhpcy5faWQsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8odXNlck5hbWUsIHVzZXJBYm91dCkge1xyXG4gICAgdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQgPSB1c2VyTmFtZTtcclxuICAgIHRoaXMuX3VzZXJBYm91dC50ZXh0Q29udGVudCA9IHVzZXJBYm91dDtcclxuICB9XHJcblxyXG4gIHNldEF2YXRhcihhdmF0YXIpIHtcclxuICAgIHRoaXMuX2F2YXRhci5zcmMgPSBhdmF0YXI7XHJcbiAgfVxyXG5cclxuICBzZXRJZChpZCkge1xyXG4gICAgdGhpcy5faWQgPSBpZDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcclxuICAgIHRoaXMuYmFzZVVybCA9IGNvbmZpZy5iYXNlVXJsO1xyXG4gICAgdGhpcy5oZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICAvLyDRhNGD0L3QutGG0LjRjyDQvtCx0YDQsNCx0L7RgtC60Lgg0YDQtdC30YPQu9GM0YLQsNGC0LAg0L7RgtCy0LXRgtCwINGB0LXRgNCy0LXRgNCwXHJcbiAgX2hhbmRsZVJlc3BvbnNlKHJlc3BvbnNlLCBlcnJvck1lc3NhZ2UpIHtcclxuICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxyXG4gICAgICBuZXcgRXJyb3IoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfS4g0KHQvtC+0LHRidC10L3QuNC1INC+0LEg0L7RiNC40LHQutC1OiAke2Vycm9yTWVzc2FnZX1gKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHNlbnRDYXJkKHsgbmFtZSwgbGluayB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBsaW5rOiBsaW5rLFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVSZXNwb25zZShcclxuICAgICAgICByZXNwb25zZSxcclxuICAgICAgICBcItCU0LDQvdC90YvQtSDQtNC+0LHQsNCy0LvQtdC90L3QvtC5INC60LDRgNGC0Ysg0L3QtSDQsdGL0LvQuCDRg9GB0L/QtdGI0L3QviDQv9C+0LvRg9GH0LXQvdGLINGB0LXRgNCy0LXRgNC+0LxcIlxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvL9C+0LHQvdC+0LLQu9C10L3QuNC1INC00LDQvdC90YvRhSDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LUg0L3QsCDRgdC10YDQstC10YDQtVxyXG4gIHVwZGF0ZVVzZXJJbmZvKG5hbWUsIGFib3V0KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgYWJvdXQ6IGFib3V0LFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVSZXNwb25zZShcclxuICAgICAgICByZXNwb25zZSxcclxuICAgICAgICBcItCU0LDQvdC90YvQtSDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LUg0L3QtSDQsdGL0LvQuCDRg9GB0L/QtdGI0L3QviDQvtCx0L3QvtCy0LvQtdC90Ysg0L3QsCDRgdC10YDQstC10YDQtVwiXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8v0L7QsdC90L7QstC40YLRjCDQsNCy0LDRgtCw0YBcclxuICB1cGRhdGVBdmF0YXIoYXZhdGFyKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IGF2YXRhcixcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5faGFuZGxlUmVzcG9uc2UoXHJcbiAgICAgICAgcmVzcG9uc2UsXHJcbiAgICAgICAgXCLQpNC+0YLQviDQsNCy0LDRgtCw0YDQsCDQvdC1INCx0YvQu9C+INGD0YHQv9C10YjQvdC+INC+0LHQvdC+0LLQu9C10L3QviDQvdCwINGB0LXRgNCy0LXRgNC1XCJcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy/Qv9C+0LvRg9GH0LjRgtGMINC40L3RhNC+0YDQvNCw0YbQuNGOINC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtVxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVJlc3BvbnNlKFxyXG4gICAgICAgIHJlc3BvbnNlLFxyXG4gICAgICAgIFwi0JTQsNC90L3Ri9C1INC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtSDQvdC1INCx0YvQu9C4INGD0YHQv9C10YjQvdC+INC/0L7Qu9GD0YfQtdC90YtcIlxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvL9C/0L7RgdGC0LDQstC40YLRjCDQu9Cw0LnQuiDQutCw0YDRgtC+0YfQutC1XHJcbiAgc2V0TGlrZShjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5faGFuZGxlUmVzcG9uc2UoXHJcbiAgICAgICAgcmVzcG9uc2UsXHJcbiAgICAgICAgXCLQlNCw0L3QvdGL0LUg0L4g0LTQvtCx0LDQstC70LXQvdC40Lgg0LvQsNC50LrQsCDQutCw0YDRgtC+0YfQutC1INC+0YIg0L/QvtC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtSDQvdC1INCx0YvQu9C4INGD0YHQv9C10YjQvdC+INC+0LHQvdC+0LLQu9C10L3RiyDQvdCwINGB0LXRgNCy0LXRgNC1XCJcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy/Rg9Cx0YDQsNGC0Ywg0LvQsNC50Log0YEg0LrQsNGA0YLQvtGH0LrQuFxyXG4gIGRlbGV0ZUxpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVJlc3BvbnNlKFxyXG4gICAgICAgIHJlc3BvbnNlLFxyXG4gICAgICAgIFwi0JTQsNC90L3Ri9C1INC+0LEg0YPQtNCw0LvQtdC90LjQuCDQu9Cw0LnQutCwINC60LDRgNGC0L7Rh9C60LUg0L7RgiDQv9C+0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1INC90LUg0LHRi9C70Lgg0YPRgdC/0LXRiNC90L4g0L7QsdC90L7QstC70LXQvdGLINC90LAg0YHQtdGA0LLQtdGA0LVcIlxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvL9GD0LTQsNC70LjRgtGMINC60LDRgNGC0L7Rh9C60YMg0L/QviBpZFxyXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZVJlc3BvbnNlKFxyXG4gICAgICAgIHJlc3BvbnNlLFxyXG4gICAgICAgIFwi0JTQsNC90L3Ri9C1INC+INC60LDRgNGC0L7Rh9C60LUg0L/QvtC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtSDQvdC1INCx0YvQu9C4INGD0YHQv9C10YjQvdC+INGD0LTQsNC70LXQvdGLINC90LAg0YHQtdGA0LLQtdGA0LVcIlxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvL9C/0L7Qu9GD0YfQuNGC0Ywg0YHQv9C40YHQvtC6INC60LDRgNGC0L7Rh9C10LpcclxuICBnZXRDYXJkTGlzdCgpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVSZXNwb25zZShcclxuICAgICAgICByZXNwb25zZSxcclxuICAgICAgICBcItCU0LDQvdC90YvQtSDQviDRgdC/0LjRgdC60LUg0LrQsNGA0YIg0L3QtSDQsdGL0LvQuCDRg9GB0L/QtdGI0L3QviDQv9C+0LvRg9GH0LXQvdGLXCJcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHBvcHVwQ29uZmlybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcclxuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IHVuZGVmaW5lZDtcclxuICB9XHJcblxyXG4gIG9wZW4oeyBoYW5kbGVTdWJtaXQgfSkge1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0ID0gaGFuZGxlU3VibWl0O1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0ID0gdW5kZWZpbmVkO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5idG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19zdWJtaXQtYnRuXCIpO1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldmVudCkgPT4ge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyB0ZW1wbGF0ZVNlbGVjdG9yQ2FyZCB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcbmltcG9ydCBQb3B1cENvbmZpcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBDb25maXJtLmpzXCI7XHJcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcblxyXG5jb25zdCBhcGlDb25maWcgPSB7XHJcbiAgYmFzZVVybDogXCJodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTYwXCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgQXV0aG9yaXphdGlvbjogXCI2MTVlYzdjMC1jMDVkLTRlM2MtOGZiYS1jOWVmM2IxYzU1NzJcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn07XHJcblxyXG4vL2FwaVxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKGFwaUNvbmZpZyk7XHJcblxyXG5jb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxuY29uc3QgYWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xyXG5jb25zdCB1cGRhdGVBdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhci1idXR0b25cIik7XHJcblxyXG4vL9C/0L7Qv9Cw0L8g0YEg0YPQstC10LvQuNGH0LXQvdC90L7QuSDQutCw0YDRgtC40L3QutC+0LlcclxuY29uc3QgY2FyZEltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIjcG9wdXAtb3Blbi1pbWdcIik7XHJcblxyXG4vL9GD0YHRgtCw0L3QvtCy0LjRgtGMINC+0LHRgNCw0LHQvtGC0YfQuNC60Lgg0YHQvtCx0YvRgtC40Lkg0L3QsCDQv9C+0L/QsNC/INGBINC60LDRgNGC0LjQvdC60L7QuVxyXG5jYXJkSW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuLy9jb25maWcg0LTQu9GPINCy0LDQu9C40LTQsNGG0LjQuCDRhNC+0YDQvFxyXG5jb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXQtZmllbGRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX3N1Ym1pdC1idG5cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19zdWJtaXQtYnRuX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dC1maWVsZF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXQtZmllbGQtZXJyb3JfdmlzaWJsZVwiLFxyXG59O1xyXG5cclxuLy/QvNCw0YHRgdC40LIg0YTQvtGA0Lwg0LLQsNC70LjQtNCw0YbQuNC4XHJcbmNvbnN0IGZvcm1WYWxpZGF0b3JzID0ge307XHJcblxyXG4vLyDQktC60LvRjtGH0LXQvdC40LUg0LLQsNC70LjQtNCw0YbQuNC4XHJcbmNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAoY29uZmlnKSA9PiB7XHJcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmZvcm1TZWxlY3RvcikpO1xyXG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XHJcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGZvcm1FbGVtZW50KTtcclxuICAgIC8vINC/0L7Qu9GD0YfQsNC10Lwg0LTQsNC90L3Ri9C1INC40Lcg0LDRgtGA0LjQsdGD0YLQsCBgbmFtZWAg0YMg0YTQvtGA0LzRi1xyXG4gICAgY29uc3QgZm9ybU5hbWUgPSBmb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO1xyXG5cclxuICAgIC8v0LIg0L7QsdGK0LXQutGCINC30LDQv9C40YHRi9Cy0LDQtdC8INC/0L7QtCDQuNC80LXQvdC10Lwg0YTQvtGA0LzRi1xyXG4gICAgZm9ybVZhbGlkYXRvcnNbZm9ybU5hbWVdID0gdmFsaWRhdG9yO1xyXG4gICAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuICB9KTtcclxufTtcclxuXHJcbmVuYWJsZVZhbGlkYXRpb24odmFsaWRhdGlvbkNvbmZpZyk7XHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4vL9C/0L7Qv9Cw0L8gXCLQv9C+0LTRgtCy0LXRgNC00LjRgtGMINGD0LTQsNC70LXQvdC40LVcIlxyXG5jb25zdCBwb3B1cENvbmZpcm1EZWxldGUgPSBuZXcgUG9wdXBDb25maXJtKFwiI3BvcHVwLWNvbmZpcm1hdGlvblwiKTtcclxucG9wdXBDb25maXJtRGVsZXRlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4vL9GB0L7Qt9C00LDQvdC40LUg0LrQsNGA0YLQvtGH0LrQuC4gX3RlbXBsYXRlU2VsZWN0b3JDYXJkINC90LXQvtCx0YXQvtC00LjQvCDQtNC70Y8g0LLRi9Cx0L7RgNCwINGC0LjQv9CwINC/0L7QutCw0LfQsCDQutCw0YDRgtC+0YfQutC4KNCz0L7RgNC40LfQvtC90YLQsNC70YzQvdC+0LPQviDQuNC70Lgg0L/QviDRg9C80L7Qu9GH0LDQvdC40Y4pXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoZGF0YUNhcmQsIF90ZW1wbGF0ZVNlbGVjdG9yQ2FyZCkge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcclxuICAgIGRhdGFDYXJkLFxyXG4gICAgdXNlci5nZXRVc2VySW5mbygpLmlkLFxyXG4gICAgX3RlbXBsYXRlU2VsZWN0b3JDYXJkLFxyXG4gICAge1xyXG4gICAgICBoYW5kbGVDYXJkQ2xpY2s6ICh0aXRsZUltYWdlLCBsaW5rSW1hZ2UpID0+IHtcclxuICAgICAgICBjYXJkSW1hZ2VQb3B1cC5vcGVuKHRpdGxlSW1hZ2UsIGxpbmtJbWFnZSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGhhbmRsZUxpa2VDbGljazogKGlzQWN0aXZlQnV0dG9uKSA9PiB7XHJcbiAgICAgICAgaWYgKGlzQWN0aXZlQnV0dG9uKSB7XHJcbiAgICAgICAgICBhcGlcclxuICAgICAgICAgICAgLnNldExpa2UoZGF0YUNhcmQuX2lkKVxyXG4gICAgICAgICAgICAudGhlbigoZGF0YUNhcmQpID0+IHtcclxuICAgICAgICAgICAgICBjYXJkLnVwZGF0ZUNvdW50ZXJMaWtlcyhkYXRhQ2FyZC5saWtlcy5sZW5ndGgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcGlcclxuICAgICAgICAgICAgLmRlbGV0ZUxpa2UoZGF0YUNhcmQuX2lkKVxyXG4gICAgICAgICAgICAudGhlbigoZGF0YUNhcmQpID0+IHtcclxuICAgICAgICAgICAgICBjYXJkLnVwZGF0ZUNvdW50ZXJMaWtlcyhkYXRhQ2FyZC5saWtlcy5sZW5ndGgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgaGFuZGxlUmVtb3ZlQ2FyZDogKGRhdGFDYXJkKSA9PiB7XHJcbiAgICAgICAgcG9wdXBDb25maXJtRGVsZXRlLm9wZW4oe1xyXG4gICAgICAgICAgaGFuZGxlU3VibWl0OiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGFwaVxyXG4gICAgICAgICAgICAgIC5kZWxldGVDYXJkKGRhdGFDYXJkKVxyXG4gICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNhcmQuZGVsZXRlKCk7XHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHBvcHVwQ29uZmlybURlbGV0ZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgfSxcclxuICAgIH1cclxuICApO1xyXG4gIHJldHVybiBjYXJkLmdlbmVyYXRlKCk7XHJcbn1cclxuXHJcbi8v0YHQvtC30LTQsNC90LjQtSDRgdC/0LjRgdC60LAg0LrQsNGA0YLQvtGH0LXQuiDQtNC70Y8g0L7RgtC+0LHRgNCw0LbQtdC90LjRj1xyXG5jb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKFxyXG4gIHtcclxuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICAvL9GB0L7Qt9C00LDQvdC40LUg0LrQsNGA0YLQvtGH0LrQuFxyXG4gICAgICBjb25zdCBjYXJkID0gY3JlYXRlQ2FyZChpdGVtLCB0ZW1wbGF0ZVNlbGVjdG9yQ2FyZCk7XHJcbiAgICAgIC8v0LTQvtCx0LDQstC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuFxyXG4gICAgICBjYXJkTGlzdC5hZGRJdGVtKGNhcmQpO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIFwiLmdhbGxlcnlfX2xpc3RcIlxyXG4pO1xyXG5cclxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0Q2FyZExpc3QoKV0pXHJcbiAgLnRoZW4oKFtpbmZvRGF0YSwgY2FyZExpc3REYXRhXSkgPT4ge1xyXG4gICAgdXNlci5zZXRVc2VySW5mbyhpbmZvRGF0YS5uYW1lLCBpbmZvRGF0YS5hYm91dCk7XHJcbiAgICB1c2VyLnNldEF2YXRhcihpbmZvRGF0YS5hdmF0YXIpO1xyXG4gICAgdXNlci5zZXRJZChpbmZvRGF0YS5faWQpO1xyXG4gICAgY2FyZExpc3QucmVuZGVySXRlbXMoY2FyZExpc3REYXRhLnJldmVyc2UoKSk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlKTtcclxuICB9KTtcclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy/Qv9C+0L/QsNC/0YtcclxuXHJcbi8v0YHQvtC30LTQsNC90LjQtSDQvtCx0YrQtdC60YLQsCDQv9C+0LvRjNC30L7QstCw0YLQtdC70YxcclxuY29uc3QgdXNlciA9IG5ldyBVc2VySW5mbyhcclxuICBcIi5wcm9maWxlX19uYW1lXCIsXHJcbiAgXCIucHJvZmlsZV9fYWJvdXRcIixcclxuICBcIi5wcm9maWxlX19hdmF0YXJcIlxyXG4pO1xyXG5cclxucG9wdXBDb25maXJtRGVsZXRlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vL9GB0L7Qt9C00LDQvdC40LUg0L7QsdGK0LXQutGC0LAg0YTQvtGA0LzRiyDQtNC70Y8g0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQtNCw0L3QvdGL0YUg0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1XHJcbmNvbnN0IHBvcHVwUHJvZmlsZUZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgY29udGFpbmVyU2VsZWN0b3I6IFwiI3BvcHVwLWVkaXQtZm9ybVwiLFxyXG4gIGhhbmRsZVN1Ym1pdEZvcm06IChmb3JtRGF0YSkgPT4ge1xyXG4gICAgcG9wdXBQcm9maWxlRm9ybS5yZW5kZXJMb2FkaW5nKFwi0J7QsdC90L7QstC70LXQvdC40LUuLi5cIik7XHJcbiAgICBhcGlcclxuICAgICAgLnVwZGF0ZVVzZXJJbmZvKGZvcm1EYXRhW1widXNlci1uYW1lXCJdLCBmb3JtRGF0YVtcInVzZXItYWJvdXRcIl0pXHJcbiAgICAgIC50aGVuKCh1c2VyRGF0YSkgPT4ge1xyXG4gICAgICAgIHVzZXIuc2V0VXNlckluZm8odXNlckRhdGEubmFtZSwgdXNlckRhdGEuYWJvdXQpO1xyXG4gICAgICAgIHBvcHVwUHJvZmlsZUZvcm0uY2xvc2UoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICB9KVxyXG4gICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgcG9wdXBQcm9maWxlRm9ybS5yZW5kZXJMb2FkaW5nKFwi0KHQvtGF0YDQsNC90LjRgtGMXCIpO1xyXG4gICAgICB9KTtcclxuICB9LFxyXG59KTtcclxuXHJcbi8v0L7QsdGA0LDQsdC+0YLQuNGH0LjQuiDRgdC+0LHRi9GC0LjQuSDQtNC70Y8g0YTQvtGA0LzRi1xyXG5wb3B1cFByb2ZpbGVGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vL9C+0LHRgNCw0LHQvtGC0YfQuNC6INGB0L7QsdGL0YLQuNGPINC90LDQttCw0YLQuNC1INC90LAg0LrQvdC+0L/QutGDINGA0LXQtNCw0LrRgtC40YDQvtCy0LDRgtGMINC00LDQvdC90YvQtVxyXG5lZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY29uc3QgeyBuYW1lLCBhYm91dCB9ID0gdXNlci5nZXRVc2VySW5mbygpO1xyXG4gIHBvcHVwUHJvZmlsZUZvcm0uc2V0SW5wdXRWYWx1ZXMoeyBcInVzZXItbmFtZVwiOiBuYW1lLCBcInVzZXItYWJvdXRcIjogYWJvdXQgfSk7XHJcbiAgcG9wdXBQcm9maWxlRm9ybS5vcGVuKCk7XHJcbiAgZm9ybVZhbGlkYXRvcnNbXCJlZGl0LWZvcm1cIl0ucmVzZXRWYWxpZGF0aW9uKCk7XHJcbn0pO1xyXG5cclxuLy/QvtCx0YrQtdC60YIg0L/QvtC/0LDQvyDQtNC70Y8g0L7QsdC90L7QstC70LXQvdC40Y8g0LDQstCw0YLQsNGA0LBcclxuY29uc3QgcG9wdXBBdmF0YXJGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIGNvbnRhaW5lclNlbGVjdG9yOiBcIiNwb3B1cC11cGRhdGUtYXZhdGFyXCIsXHJcbiAgaGFuZGxlU3VibWl0Rm9ybTogKGZvcm1EYXRhKSA9PiB7XHJcbiAgICBwb3B1cEF2YXRhckZvcm0ucmVuZGVyTG9hZGluZyhcItCe0LHQvdC+0LLQu9C10L3QuNC1INCw0LLQsNGC0LDRgNCwLi4uXCIpO1xyXG4gICAgYXBpXHJcbiAgICAgIC51cGRhdGVBdmF0YXIoZm9ybURhdGFbXCJpbnB1dC1saW5rLW9uLWF2YXRhclwiXSlcclxuICAgICAgLnRoZW4oKHVzZXJEYXRhKSA9PiB7XHJcbiAgICAgICAgdXNlci5zZXRBdmF0YXIodXNlckRhdGEuYXZhdGFyKTtcclxuICAgICAgICBwb3B1cEF2YXRhckZvcm0uY2xvc2UoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICB9KVxyXG4gICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgcG9wdXBBdmF0YXJGb3JtLnJlbmRlckxvYWRpbmcoXCLQodC+0YXRgNCw0L3QuNGC0YxcIik7XHJcbiAgICAgIH0pO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxucG9wdXBBdmF0YXJGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vL9C+0LHRgNCw0LHQvtGC0YfQuNC6INGB0L7QsdGL0YLQuNGPINC90LDQttCw0YLQuNC1INC90LAg0LrQvdC+0L/QutGDINC/0L7QvNC10L3Rj9GC0Ywg0LDQstCw0YLQsNGAXHJcbnVwZGF0ZUF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHBvcHVwQXZhdGFyRm9ybS5vcGVuKCk7XHJcbiAgZm9ybVZhbGlkYXRvcnNbXCJ1cGRhdGUtYXZhdGFyLWZvcm1cIl0ucmVzZXRWYWxpZGF0aW9uKCk7XHJcbn0pO1xyXG5cclxuLy/QvtCx0YrQtdC60YIg0YTQvtGA0LzRiyDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbmNvbnN0IHBvcHVwQWRkQ2FyZEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgY29udGFpbmVyU2VsZWN0b3I6IFwiI3BvcHVwLWFkZC1mb3JtXCIsXHJcbiAgaGFuZGxlU3VibWl0Rm9ybTogKGRhdGEpID0+IHtcclxuICAgIHBvcHVwQWRkQ2FyZEZvcm0ucmVuZGVyTG9hZGluZyhcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCIpO1xyXG4gICAgYXBpXHJcbiAgICAgIC5zZW50Q2FyZChkYXRhKVxyXG4gICAgICAudGhlbigoZGF0YUNhcmQpID0+IHtcclxuICAgICAgICBjYXJkTGlzdC5hZGRJdGVtKGNyZWF0ZUNhcmQoZGF0YUNhcmQsIHRlbXBsYXRlU2VsZWN0b3JDYXJkKSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAvL9C90LUg0LfQsNC60YDRi9Cy0LDRgtGMINC/0L7Qv9Cw0L8sINC/0L7QutCwINC60LDRgNGC0LjQvdC60LAg0L3QtSDQt9Cw0LPRgNGD0LfQuNGC0YHRj1xyXG4gICAgICAgIGNvbnN0IGxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnlfX2xpc3RcIik7XHJcbiAgICAgICAgY29uc3QgbG9hZGluZ0NhcmQgPVxyXG4gICAgICAgICAgbGlzdC5maXJzdEVsZW1lbnRDaGlsZC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG4gICAgICAgIGxvYWRpbmdDYXJkLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHBvcHVwQWRkQ2FyZEZvcm0uY2xvc2UoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICB9KVxyXG4gICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgcG9wdXBBZGRDYXJkRm9ybS5yZW5kZXJMb2FkaW5nKFwi0KHQvtC30LTQsNGC0YxcIik7XHJcbiAgICAgIH0pO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxuLy/Rg9GB0YLQsNC90L7QstC40YLRjCDRgdC70YPRiNCw0YLQtdC70Lgg0YHQvtCx0YvRgtC40Lkg0L3QsFxyXG5wb3B1cEFkZENhcmRGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vL9C+0LHRgNCw0LHQvtGC0YfQuNC6INGB0L7QsdGL0YLQuNGPINC90LDQttCw0YLQuNC1INC90LAg0LrQvdC+0L/QutGDINC00L7QsdCw0LLQuNGC0Ywg0LrQsNGA0YLQvtGH0LrRg1xyXG5hZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwb3B1cEFkZENhcmRGb3JtLm9wZW4oKTtcclxuICBmb3JtVmFsaWRhdG9yc1tcImFkZC1mb3JtXCJdLnJlc2V0VmFsaWRhdGlvbigpO1xyXG59KTtcclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuIl0sIm5hbWVzIjpbInRlbXBsYXRlU2VsZWN0b3JDYXJkIiwiQ2FyZCIsImRhdGEiLCJpZE93bmVyIiwidGVtcGxhdGVTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZVJlbW92ZUNhcmQiLCJoYW5kbGVMaWtlQ2xpY2siLCJ0aGlzIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2xpa2VzIiwibGlrZXMiLCJfaWQiLCJfb3duZXIiLCJvd25lciIsIl9pZE93bmVyIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsIl9oYW5kbGVSZW1vdmVDYXJkIiwiX3JlbW92ZSIsImJpbmQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2xpa2VCdXR0b24iLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJfZWxlbWVudCIsInJlbW92ZSIsImNvdW50ZXIiLCJ0ZXh0Q29udGVudCIsImZvckVhY2giLCJ1c2VyIiwiYWRkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl90b2dnbGVMaWtlIiwiaXNBY3RpdmVMaWtlIiwiY29udGFpbnMiLCJfY2FyZEltYWdlIiwiX2RlbGV0ZUJ1dHRvbiIsIl9nZXRUZW1wbGF0ZSIsInNyYyIsImFsdCIsInVwZGF0ZUNvdW50ZXJMaWtlcyIsImxlbmd0aCIsIl9yZW5kZXJUcmFzaEljb24iLCJfcmVuZGVyTGlrZUljb24iLCJfc2V0RXZlbnRMaXN0ZW5lciIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtVmFsaWRhdGUiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybVZhbGlkYXRlIiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfc3VibWl0QnV0dG9uRWxlbWVudCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImlucHV0RWxlbWVudCIsIl9oaWRlSW5wdXRFcnJvciIsImVycm9yRWxlbWVudCIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX3Nob3dJbnB1dEVycm9yIiwic29tZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlZCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJQb3B1cCIsImNvbnRhaW5lclNlbGVjdG9yIiwiX2hhbmRsZUVzY0Nsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImtleSIsImNsb3NlIiwidGFyZ2V0IiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZVN1Ym1pdEZvcm0iLCJfaGFuZGxlU3VibWl0Rm9ybSIsIl9mb3JtIiwiX2Zvcm1WYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwidGV4dCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlBvcHVwV2l0aEltYWdlIiwiX2ltYWdlIiwiX2ZpZ2NhcHRpb24iLCJ0aXRsZUltYWdlIiwibGlua0ltYWdlIiwiU2VjdGlvbiIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiaXRlbSIsInByZXBlbmQiLCJpbm5lckhUTUwiLCJpdGVtTGlzdCIsImNsZWFyIiwiVXNlckluZm8iLCJ1c2VyTmFtZVNlbGVjdG9yIiwidXNlckFib3V0U2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl91c2VyTmFtZSIsIl91c2VyQWJvdXQiLCJfYXZhdGFyIiwiYWJvdXQiLCJ1c2VyTmFtZSIsInVzZXJBYm91dCIsImF2YXRhciIsIkFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwicmVzcG9uc2UiLCJlcnJvck1lc3NhZ2UiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0IiwiRXJyb3IiLCJyZXMiLCJzdGF0dXMiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidGhlbiIsIl9oYW5kbGVSZXNwb25zZSIsImNhcmRJZCIsInBvcHVwQ29uZmlybSIsIl9oYW5kbGVTdWJtaXQiLCJ1bmRlZmluZWQiLCJoYW5kbGVTdWJtaXQiLCJidG4iLCJhcGkiLCJBdXRob3JpemF0aW9uIiwiZWRpdEJ1dHRvbiIsImFkZEJ1dHRvbiIsInVwZGF0ZUF2YXRhckJ1dHRvbiIsImNhcmRJbWFnZVBvcHVwIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJmb3JtVmFsaWRhdG9ycyIsImZvcm1TZWxlY3RvciIsImZvcm1FbGVtZW50IiwidmFsaWRhdG9yIiwiZm9ybU5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJlbmFibGVWYWxpZGF0aW9uIiwicG9wdXBDb25maXJtRGVsZXRlIiwiUG9wdXBDb25maXJtIiwiY3JlYXRlQ2FyZCIsImRhdGFDYXJkIiwiX3RlbXBsYXRlU2VsZWN0b3JDYXJkIiwiY2FyZCIsImdldFVzZXJJbmZvIiwib3BlbiIsImlzQWN0aXZlQnV0dG9uIiwic2V0TGlrZSIsImNhdGNoIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwibWVzc2FnZSIsImRlbGV0ZUxpa2UiLCJkZWxldGVDYXJkIiwiZGVsZXRlIiwiZmluYWxseSIsImdlbmVyYXRlIiwiY2FyZExpc3QiLCJhZGRJdGVtIiwiYWxsIiwiZ2V0Q2FyZExpc3QiLCJpbmZvRGF0YSIsImNhcmRMaXN0RGF0YSIsInNldFVzZXJJbmZvIiwic2V0QXZhdGFyIiwic2V0SWQiLCJyZW5kZXJJdGVtcyIsInJldmVyc2UiLCJwb3B1cFByb2ZpbGVGb3JtIiwiZm9ybURhdGEiLCJyZW5kZXJMb2FkaW5nIiwidXBkYXRlVXNlckluZm8iLCJ1c2VyRGF0YSIsInNldElucHV0VmFsdWVzIiwicmVzZXRWYWxpZGF0aW9uIiwicG9wdXBBdmF0YXJGb3JtIiwidXBkYXRlQXZhdGFyIiwicG9wdXBBZGRDYXJkRm9ybSIsInNlbnRDYXJkIiwiZmlyc3RFbGVtZW50Q2hpbGQiXSwic291cmNlUm9vdCI6IiJ9